
<!doctype html>
<html lang="es" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Una introducción a la placa ESP32 micro:steamakers que es muy similar a la Placa ESP32 STEAMakers, pero en este caso tiene el formato de la micro:bit.">
      
      
        <meta name="author" content="Federico Coca">
      
      
        <link rel="canonical" href="https://fgcoca.github.io/....https:/fgcoca.github.io/ESP32-micro-STEAMakers/guiamb/ublocks/">
      
      
        <link rel="prev" href="../boardie/">
      
      
        <link rel="next" href="../ble_inventor/">
      
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.5">
    
    
      
        <title>Programación micro:STEAMakers - ESP32 micro:STEAMakers</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6a10b989.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
   <link href="../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
        html.glightbox-open { overflow: initial; height: 100%; }
        .gslide-title { margin-top: 0px; user-select: text; }
        .gslide-desc { color: #666; user-select: text; }
        .gslide-image img { background: white; }
        
            .gscrollbar-fixer { padding-right: 15px; }
            .gdesc-inner { font-size: 0.75rem; }
            body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
            body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
            body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
            </style> <script src="../../assets/javascripts/glightbox.min.js"></script></head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="deep-purple">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#introduccion" class="md-skip">
          Saltar a contenido
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Cabecera">
    <a href="../.." title="ESP32 micro:STEAMakers" class="md-header__button md-logo" aria-label="ESP32 micro:STEAMakers" data-md-component="logo">
      
  <img src="../../img/favicon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ESP32 micro:STEAMakers
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Programación micro:STEAMakers
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="deep-purple"  aria-label="Modo Oscuro"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Modo Oscuro" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="light-blue" data-md-color-accent="deep-purple"  aria-label="Modo Claro"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Modo Claro" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Búsqueda" placeholder="Búsqueda" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Buscar">
        
        <button type="reset" class="md-search__icon md-icon" title="Limpiar" aria-label="Limpiar" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Inicializando búsqueda
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/fgcoca/ESP32-micro-STEAMakers" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    fgcoca/ESP32-micro-STEAMakers
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Pestañas" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../presenta/" class="md-tabs__link">
          
  
  ESP32 micro:STEAMakers

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../CO2/" class="md-tabs__link">
          
  
  Teoria general

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../donde/" class="md-tabs__link">
          
  
  MicroBlocks

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../IDE/introIDE/" class="md-tabs__link">
          
  
  Arduino2.0

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../program/inicio/" class="md-tabs__link">
          
  
  Arduinoblocks

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../Miscelanea/about/" class="md-tabs__link">
          
  
  Miscelanea

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navegación" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ESP32 micro:STEAMakers" class="md-nav__button md-logo" aria-label="ESP32 micro:STEAMakers" data-md-component="logo">
      
  <img src="../../img/favicon.png" alt="logo">

    </a>
    ESP32 micro:STEAMakers
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/fgcoca/ESP32-micro-STEAMakers" title="Ir al repositorio" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    fgcoca/ESP32-micro-STEAMakers
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <label class="md-nav__link" for="__nav_1" id="__nav_1_label" tabindex="">
            
  
  <span class="md-ellipsis">
    ESP32 micro:STEAMakers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            ESP32 micro:STEAMakers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../presenta/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Presentación
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    La ESP32 micro:STEAMakers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../ch340/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Interface USB CH340
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../otrohw/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Otros elementos hardware
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../escudos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Algunos escudos (Shields)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../shieldbit/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Shield:bit
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Teoria general
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Teoria general
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../CO2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conceptos sobre CO2 y VOC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../MiCS4514/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Sensor MiCS4514 de NO2 y CO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../rgb/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Diodos LEDs RGB y modelos de color
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../program/thinspeak/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Teoría básica de IoT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../program/espnow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ESP-NOW
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../bt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Comunicaciones Bluetooth
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../mdc/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    El motor DC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../servo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Servomotor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../pap/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motor paso a paso
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    MicroBlocks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            MicroBlocks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../donde/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Donde encontrarlo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mblocks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Guía de MicroBlocks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../webserial/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Web Serial ESPTool
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../boardie/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Boardie:un tablero virtual para MicroBlocks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Programación micro:STEAMakers
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Programación micro:STEAMakers
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    Introducción
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conexion-y-carga-de-la-libreria" class="md-nav__link">
    Conexión y carga de la libreria
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comentarios" class="md-nav__link">
    Comentarios
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control" class="md-nav__link">
    Control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pantalla-leds-rgb" class="md-nav__link">
    Pantalla LEDs RGB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operadores" class="md-nav__link">
    Operadores
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bucles" class="md-nav__link">
    Bucles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#listas" class="md-nav__link">
    Listas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mas-operadores" class="md-nav__link">
    Mas operadores
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#botones-y-bloques-de-control" class="md-nav__link">
    Botones y bloques de control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graficado-de-datos" class="md-nav__link">
    Graficado de datos
  </a>
  
    <nav class="md-nav" aria-label="Graficado de datos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bloque" class="md-nav__link">
    Bloque
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#panel-grafico" class="md-nav__link">
    Panel gráfico
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opciones-del-panel-grafico" class="md-nav__link">
    Opciones del panel gráfico
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#libreria-neopixeles" class="md-nav__link">
    Libreria NeoPixeles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mis-bloques" class="md-nav__link">
    Mis bloques
  </a>
  
    <nav class="md-nav" aria-label="Mis bloques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descripcion" class="md-nav__link">
    Descripción
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operaciones-comunes" class="md-nav__link">
    Operaciones comunes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sonidos" class="md-nav__link">
    Sonidos
  </a>
  
    <nav class="md-nav" aria-label="Sonidos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tonos" class="md-nav__link">
    Tonos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#politonos" class="md-nav__link">
    Politonos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abrir-archivos-de-sonido-o-musica" class="md-nav__link">
    Abrir archivos de Sonido o música
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sensor-de-temperatura-y-humedad" class="md-nav__link">
    Sensor de temperatura y humedad
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acelerometro-y-giroscopio" class="md-nav__link">
    Acelerómetro y giroscopio
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sensor-de-energia" class="md-nav__link">
    Sensor de energia
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#libreria-ble-scanner" class="md-nav__link">
    Libreria BLE Scanner
  </a>
  
    <nav class="md-nav" aria-label="Libreria BLE Scanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scan-received" class="md-nav__link">
    scan received
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rssi" class="md-nav__link">
    RSSI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address" class="md-nav__link">
    address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address-type" class="md-nav__link">
    address type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#device-name" class="md-nav__link">
    device name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hastype" class="md-nav__link">
    hasType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo" class="md-nav__link">
    Ejemplo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comunicacion-ble-bidireccional-basica" class="md-nav__link">
    Comunicación BLE bidireccional básica
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../ble_inventor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extensión BluetoothLE de App Inventor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../mb_inventor_BLE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mBlocks + App Inventor + BLE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../actividadesmB/act_ini_mB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actividades iniciales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../actividadesmB/act_sb_mB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actividades Shiel:bit
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Arduino2.0
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Arduino2.0
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/introIDE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introducción
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/codigoAB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Código en Arduinoblocks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/descarga/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Descarga del IDE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/ventanaIDE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ventana principal del IDE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../IDE/caracteristicasIDE2_0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Características principales del IDE 2.0
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Arduinoblocks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Arduinoblocks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../program/inicio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Programación de micro:STEAMakers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../program/RTTTL/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Formato RTTTL
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../program/server/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Servidor web
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../program/tm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    micro:STEAMakers + Telegram
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../program/iotAB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IoT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../program/espnowAB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ESP-NOW
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../actividadesAB/act_ini/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actividades iniciales
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../actividadesAB/act_EP/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actividades EASY Plug
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../actividadesAB/act_ava/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Actividades avanzadas y con shield modular
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Miscelanea
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Miscelanea
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscelanea/about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Autoria
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscelanea/lic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Licencias
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscelanea/webgrafia/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Webgrafia/Bibliografía
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../Miscelanea/soft/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Software utilizado
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Tabla de contenidos
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#introduccion" class="md-nav__link">
    Introducción
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#conexion-y-carga-de-la-libreria" class="md-nav__link">
    Conexión y carga de la libreria
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comentarios" class="md-nav__link">
    Comentarios
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#control" class="md-nav__link">
    Control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#pantalla-leds-rgb" class="md-nav__link">
    Pantalla LEDs RGB
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operadores" class="md-nav__link">
    Operadores
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#variables" class="md-nav__link">
    Variables
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#bucles" class="md-nav__link">
    Bucles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#listas" class="md-nav__link">
    Listas
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mas-operadores" class="md-nav__link">
    Mas operadores
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#botones-y-bloques-de-control" class="md-nav__link">
    Botones y bloques de control
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#graficado-de-datos" class="md-nav__link">
    Graficado de datos
  </a>
  
    <nav class="md-nav" aria-label="Graficado de datos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#bloque" class="md-nav__link">
    Bloque
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#panel-grafico" class="md-nav__link">
    Panel gráfico
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#opciones-del-panel-grafico" class="md-nav__link">
    Opciones del panel gráfico
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#libreria-neopixeles" class="md-nav__link">
    Libreria NeoPixeles
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#mis-bloques" class="md-nav__link">
    Mis bloques
  </a>
  
    <nav class="md-nav" aria-label="Mis bloques">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#descripcion" class="md-nav__link">
    Descripción
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#operaciones-comunes" class="md-nav__link">
    Operaciones comunes
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sonidos" class="md-nav__link">
    Sonidos
  </a>
  
    <nav class="md-nav" aria-label="Sonidos">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#tonos" class="md-nav__link">
    Tonos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#politonos" class="md-nav__link">
    Politonos
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abrir-archivos-de-sonido-o-musica" class="md-nav__link">
    Abrir archivos de Sonido o música
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sensor-de-temperatura-y-humedad" class="md-nav__link">
    Sensor de temperatura y humedad
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acelerometro-y-giroscopio" class="md-nav__link">
    Acelerómetro y giroscopio
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sensor-de-energia" class="md-nav__link">
    Sensor de energia
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#libreria-ble-scanner" class="md-nav__link">
    Libreria BLE Scanner
  </a>
  
    <nav class="md-nav" aria-label="Libreria BLE Scanner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scan-received" class="md-nav__link">
    scan received
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rssi" class="md-nav__link">
    RSSI
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address" class="md-nav__link">
    address
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#address-type" class="md-nav__link">
    address type
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#device-name" class="md-nav__link">
    device name
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hastype" class="md-nav__link">
    hasType
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ejemplo" class="md-nav__link">
    Ejemplo
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#comunicacion-ble-bidireccional-basica" class="md-nav__link">
    Comunicación BLE bidireccional básica
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>Programación micro:STEAMakers</h1>

<h2 id="introduccion"><FONT COLOR=#007575><strong>Introducción</strong></font><a class="headerlink" href="#introduccion" title="Permanent link">&para;</a></h2>
<p>De manera muy resumida lo que haremos en esta sección es:</p>
<ul>
<li>Describir los bloques y conceptos relacionados con la micro:STEAMakers.</li>
<li>Incluiremos esquemas si resultan necesarios.</li>
</ul>
<div class="admonition info">
<p class="admonition-title"><strong>AVISO</strong></p>
<p>Debido a que esta web se crea mientras la librería micro:STEAMakers está en desarrollo, nos encontraremos con situaciones en las que las imágenes y programas tengan ciertos cambios entre lo que vemos aquí y la realidad de la versión que estemos utilizando de MicroBlocks.</p>
</div>
<h2 id="conexion-y-carga-de-la-libreria"><FONT COLOR=#007575><strong>Conexión y carga de la libreria</strong></font><a class="headerlink" href="#conexion-y-carga-de-la-libreria" title="Permanent link">&para;</a></h2>
<p>La primera tarea que vamos a realizar es conectar la placa micro:STEAMakers a un puerto USB del ordenador mediante un cable USB-A / USB-C y desde el menú MicroBlocks (el engranaje) proceder a actualizar el firmware de la placa.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/act_firm.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Actualizar el firmware de la placa" src="../../img/guias/uB/act_firm.gif" /></a><br />
<em>Actualizar el firmware de la placa</em></p>
<p></center></p>
<p>Al final del todo vemos como se pone en verde el icono USB indicando que la conexión está realizada y en la micro:STEAMakers se está ejecutando y la máquina virtual se está ejecutando por lo que ya podemos trabajar en vivo con la placa.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/vivo.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Primer trabajo en vivo" src="../../img/guias/uB/vivo.gif" /></a><br />
<em>Primer trabajo en vivo</em></p>
<p></center></p>
<p>Vamos a proceder a añadir la libreria (creada por Joan Guillén) con los bloques especificos de micro:STEAMakers.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/libreria.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Primer trabajo en vivo" src="../../img/guias/uB/libreria.gif" /></a><br />
<em>Primer trabajo en vivo</em></p>
<p></center></p>
<p>Vamos a ver como se realiza esta tarea utilizando la versión pilot de Microblocks v2.0.18. Realizamos una serie de consideraciones acerca del funcionamiento del programa:</p>
<ul>
<li>
<p>Microblocks prioriza el proyecto que tenga cargado en la interfaz (¡no borrará nada de lo que tengamos en pantalla al conectarse a una placa!). Cuando tenemos un proyecto (aunque sea un solo bloque en el área de programación), al conectar una placa se cargará este programa en ella. Cuando hacemos esto rutinariamente, podemos clicar en el "play" (triángulo) para asegurarnos de que se realiza esta acción de sincronización.</p>
</li>
<li>
<p>Cuando Microblocks tiene un proyecto en blanco (acabamos de abrir, o sin conectar la placa hacemos Archivo-&gt;Nuevo) y conectamos una placa, según la configuración que tengamos, priorizará cargar el programa que tenga la placa. Esta configuración se puede cambiar, en el menú de Configuración (escogiendo el "modo avanzado") veremos la opción "auto-PlugShare en proyectos vacíos".</p>
</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/PlugShare.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Opción auto-PlugShare en proyectos vacíos" src="../../img/guias/uB/PlugShare.png" /></a><br />
<em>Opción auto-PlugShare en proyectos vacíos</em></p>
<p></center></p>
<ul>
<li>Cuando el proyecto está vacío y la placa tampoco tiene programa, Microblocks puede cargar (lo hace por defecto) las librerías asociadas a la placa que hemos conectado. Este comportamiento también lo podemos modificar en el menú de Configuración (escogiendo "modo avanzado") en la opción "autocarga las librerías de la placa".</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/autocarga_librerias.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Opción autocarga las librerías de la placa" src="../../img/guias/uB/autocarga_librerias.png" /></a><br />
<em>Opción autocarga las librerías de la placa</em></p>
<p></center></p>
<p>Es decir, el comportamiento es configurable, pero debemos quedarnos en una primera descripción es el comportamiento "por defecto". Y en este caso lo que hace cambiar el comportamiento es tener en primera instancia un proyecto modificado (aunque fuera un pequeño movimiento de bloques) y en segunda instancia, un proyecto ya guardado en la placa (aunque este vacío, pero al que ya se han cargado manualmente librerías).</p>
<p>Con una placa micro:STEAMakers conectada, al seleccionar "actualizar firmware de la placa", a partir de la versión 2.0, podemos seleccionar directamente la placa micro:STEAMakers y con las configuraciones vistas anteriormente se produce una carga de librerias como la que vemos en la animación siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/actual_firm.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Actualizar el firmware de la placa" src="../../img/guias/uB/actual_firm.gif" /></a><br />
<em>Actualizar el firmware de la placa</em></p>
<p></center></p>
<p>Cuando finaliza el proceso se muestra el mensaje siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/actual_firm_mensaje.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Actualizar el firmware de la placa" src="../../img/guias/uB/actual_firm_mensaje.png" /></a><br />
<em>Actualizar el firmware de la placa</em></p>
<p></center></p>
<p>Continuamos el proceso de conexionado:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/actual_firm_fin.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Actualizar el firmware de la placa" src="../../img/guias/uB/actual_firm_fin.gif" /></a><br />
<em>Actualizar el firmware de la placa</em></p>
<p></center></p>
<p>Y ya tenemos disponibles los bloques de la micro:STEAMakers y las librerias dependientes cargadas. Si desconectamos la placa y creamos un nuevo proyecto recuperamos la situación por defecto, tal y como vemos en la imagen siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sin_placa_nuevo.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Creado archivo nuevo sin placa conectada" src="../../img/guias/uB/sin_placa_nuevo.png" /></a><br />
<em>Creado archivo nuevo sin placa conectada</em></p>
<p></center></p>
<h2 id="comentarios"><FONT COLOR=#007575><strong>Comentarios</strong></font><a class="headerlink" href="#comentarios" title="Permanent link">&para;</a></h2>
<p>En MicroBlocks los comentarios son tratados desde un único bloque que podemos encontrar en el menú 'Control'. Es un bloque que no hace nada. Se utiliza para añadir notas y documentación a los scripts.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/comentuB.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Comentarios" src="../../img/guias/uB/comentuB.png" /></a><br />
<em>Comentarios</em></p>
<p></center></p>
<p>La ventana de entrada de texto se autodimensiona según introducimos texto y se pueden añadir líneas pulsando la tecla enter.</p>
<h2 id="control"><FONT COLOR=#007575><strong>Control</strong></font><a class="headerlink" href="#control" title="Permanent link">&para;</a></h2>
<p>En este grupo tenemos acceso a los bloques de control de la micro:bit.</p>
<ul>
<li><strong>al empezar</strong>. Los bloques debajo de este se ejecutan cuando se enciende la placa o cuando se hace clic en el icono verde EJECUTAR que tiene forma de flecha. Es uno de los bloques denominados sombrero.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_al_empezar.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque 'al empezar'" src="../../img/guias/uB/B_al_empezar.png" /></a><br />
<em>Bloque 'al empezar'</em></p>
<p></center></p>
<ul>
<li><strong>por siempre</strong>. Se trata del bloque de la imagen y es un bloque que se ejecuta de manera indefinida.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_por_siempre.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque 'por siempre'" src="../../img/guias/uB/B_por_siempre.png" /></a><br />
<em>Bloque 'por siempre'</em></p>
<p></center></p>
<ul>
<li><strong>espera xx milisegundos</strong>. Espera el número de milisegundos indicado antes de continuar.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_espera_ms.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque 'espera xx milisegundos'" src="../../img/guias/uB/B_espera_ms.png" /></a><br />
<em>Bloque 'espera xx milisegundos'</em></p>
<p></center></p>
<h2 id="pantalla-leds-rgb"><FONT COLOR=#007575><strong>Pantalla LEDs RGB</strong></font><a class="headerlink" href="#pantalla-leds-rgb" title="Permanent link">&para;</a></h2>
<p>Estos son los bloques de control de la matriz de 5x5 LEDs RGB.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_pantalla.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloques Pantalla LEDs RGB" src="../../img/guias/uB/B_pantalla.png" /></a><br />
<em>Bloques Pantalla LEDs RGB</em></p>
<p></center></p>
<ul>
<li><strong>m:s clear display (limpia pantalla)</strong>. Apaga todos los LEDs.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_limpia_pant.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s clear display (limpia pantalla)" src="../../img/guias/uB/B_limpia_pant.png" /></a><br />
<em>Bloque m:s clear display (limpia pantalla)</em></p>
<p></center></p>
<p>Se trata de un bloque que pone a 0 (cero) el color de todos los LEDs RGB actualizando su estado. En la imagen siguiente vemos su definición:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage31871059.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s clear display (limpia pantalla)" src="../../img/guias/uB/scriptImage31871059.png" /></a><br />
<em>Definición del bloque m:s clear display (limpia pantalla)</em></p>
<p></center></p>
<ul>
<li><strong>pantalla micro:STEAM</strong>. Muestra una imagen de la pantalla rodeada de las palabras "micro:STEAM" que permite cambiar el color de cada LED de manera individual haciendo clic sobre el mismo y utilizando la paleta RGB que se muestra.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_pantallams.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque pantalla micro:STEAM" src="../../img/guias/uB/B_pantallams.png" /></a><br />
<em>Bloque pantalla micro:STEAM</em></p>
<p></center></p>
<p>El bloque lo que hace es sustituir el elemento de la lista <em>'_ms_neoPixels'</em> por el valor RGB que le demos desde la paleta. La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage33581712.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque pantalla micro:STEAM" src="../../img/guias/uB/scriptImage33581712.png" /></a><br />
<em>Definición del bloque pantalla micro:STEAM</em></p>
<p></center></p>
<p>En el video siguiente vemos el trabajo básico con el bloque en MicroBlocks, aunque el fuerte brillo de los LEDs deslumbra la webcam y no se aprecia en exceso. Vemos como la placa trabaja en vivo incluso en el menú de bloques sin necesidad de arrastrarlo al área de programa. Esto es especialmente útil para probar funcionalidad antes de llevarlo al programa.</p>
<p><center></p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/AuY8-PwJbhA?si=KtRtEOEmuFAVRwXL" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

<p></center></p>
<ul>
<li><strong>m:s display with (pantalla)</strong>. Muestra la imagen que dibujemos en la pantalla cambiando el estado de cada LED haciendo clic sobre el mismo y asignando el color común a todos los LEDs RGB con la paleta.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_pantalla_with.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s display with (pantalla)" src="../../img/guias/uB/B_pantalla_with.png" /></a><br />
<em>Bloque m:s display with (pantalla)</em></p>
<p></center></p>
<p>El bloque lo que hace es recorrer toda la matriz y sustituir el estado del LED que ha sido seleccionado (elemento de la lista <em>'_ms_neoPixels'</em>) por el color escogido desde la paleta. La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage8240153.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque pantalla micro:STEAM" src="../../img/guias/uB/scriptImage8240153.png" /></a><br />
<em>Definición del bloque pantalla micro:STEAM</em></p>
<p></center></p>
<p>En el video siguiente vemos el uso básico del bloque para cambiar la carita de feliz a triste y asignarle el color rojo. Posteriormente se hace funcionar un ejemplo de uso sencillo.</p>
<p><center><iframe width="560" height="315" src="https://www.youtube.com/embed/tr_-DPl3JQo?si=GggVvX0z-__cMPNn" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe></center></p>
<ul>
<li><strong>m:s display image with color</strong>. Muestra la imagen que seleccionemos de la lista en la pantalla asignando el color común a todos los LEDs RGB escogido con la paleta.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_display_image_with.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s display image with color" src="../../img/guias/uB/B_display_image_with.png" /></a><br />
<em>Bloque m:s display image with color</em></p>
<p></center></p>
<p>El bloque muestra la imagen seleccionada en el color escogido desde la paleta. La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage10773333.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s display image with color" src="../../img/guias/uB/scriptImage10773333.png" /></a><br />
<em>Definición del bloque m:s display image with color</em></p>
<p></center></p>
<p>En la animación siguiente tenemos un ejemplo de uso que utiliza diferentes imágenes.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/display_image.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso del bloque m:s display image with color" src="../../img/guias/uB/display_image.gif" /></a><br />
<em>Uso del bloque m:s display image with color</em><br />
<a href="../../program/uB/B_display_image_with.ubp">Descargar programa</a></p>
<p></center></p>
<ul>
<li><strong>m:s set global brightness scale to</strong>. Este bloque permite establecer el brillo de los LEDs en porcentaje. Su aspecto es el siguiente:</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_brillo.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s set global brightness scale to" src="../../img/guias/uB/B_brillo.png" /></a><br />
<em>Bloque m:s set global brightness scale to</em></p>
<p></center></p>
<p>La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage9589278.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s set global brightness scale to" src="../../img/guias/uB/scriptImage9589278.png" /></a><br />
<em>Definición del bloque m:s set global brightness scale to</em></p>
<p></center></p>
<p>Retomamos el ejemplo "Uso del bloque m:s display image with color" para reformarlo modificando el brillo según la imagen que se muestra. En la animación siguiente tenemos el resultado.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/display_image_modif.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso del bloque m:s set global brightness scale to" src="../../img/guias/uB/display_image_modif.gif" /></a><br />
<em>Uso del bloque m:s set global brightness scale to</em><br />
<a href="../../program/uB/B_display_image_with_modif.ubp">Descargar programa</a></p>
<p></center></p>
<ul>
<li><strong>m:s plot x,y with</strong>. Enciende el LED indicado en la coordenada x,y. La coordenadas x es la horizontal y la y es la vertical. La coordenada 1,1 es la esquina superior ezquierda, la 1,5 es la derecha, la 5,1 es la inferior izquierda y la 5,5 la inferior derecha. El color se elige desde la paleta. Las coordenadas por defecto corresponden al LED central.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_enciende_xy.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s plot x,y with" src="../../img/guias/uB/B_enciende_xy.png" /></a><br />
<em>Bloque m:s plot x,y with</em></p>
<p></center></p>
<p>La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage21567570.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s plot x,y with" src="../../img/guias/uB/scriptImage21567570.png" /></a><br />
<em>Definición del bloque m:s plot x,y with</em></p>
<p></center></p>
<ul>
<li><strong>m:s unplot x,y</strong>. Apaga el LED indicado en la coordenada x,y. La coordenadas x es la horizontal y la y es la vertical. La coordenada 1,1 es la esquina superior ezquierda, la 1,5 es la derecha, la 5,1 es la inferior izquierda y la 5,5 la inferior derecha. Las coordenadas por defecto corresponden al LED central.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_apaga_xy.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s unplot x,y" src="../../img/guias/uB/B_apaga_xy.png" /></a><br />
<em>Bloque m:s unplot x,y</em></p>
<p></center></p>
<p>La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage22281431.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s unplot x,y" src="../../img/guias/uB/scriptImage22281431.png" /></a><br />
<em>Definición del bloque m:s unplot x,y</em></p>
<p></center></p>
<ul>
<li><strong>color al azar</strong>. Genera un color aleatorio.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_azar.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque color al azar" src="../../img/guias/uB/B_azar.png" /></a><br />
<em>Bloque color al azar</em></p>
<p></center></p>
<p>La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage23274993.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque color al azar" src="../../img/guias/uB/scriptImage23274993.png" /></a><br />
<em>Definición del bloque color al azar</em></p>
<p></center></p>
<p>En la animación siguiente tenemos un ejemplo de uso de los bloques plot, unplot color al azar. El ejemplo lo que hace es recorrer dos bucles, o para las filas y otro para las columnas que hará que se encienda un LED cada 100ms en un color aleatorio, se detenga un segundo y los apague en el mismo orden que se encendieron, se detiene un segundo y se inicia de nuevo el proceso.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/plot_unplot.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso de los bloques m:s plot x,y; m:s unplot x,y y color al azar" src="../../img/guias/uB/plot_unplot.gif" /></a><br />
<em>Uso de los bloques m:s plot x,y; m:s unplot x,y y color al azar</em><br />
<a href="../../program/uB/B_plot_unplot_color_azar.ubp">Descargar programa</a></p>
<p></center></p>
<ul>
<li><strong>m:s display character with</strong>. Genera un color aleatorio.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_character.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s display character with" src="../../img/guias/uB/B_character.png" /></a><br />
<em>Bloque m:s display character with</em></p>
<p></center></p>
<p>La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage24826988.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s display character with" src="../../img/guias/uB/scriptImage24826988.png" /></a><br />
<em>Definición del bloque m:s display character with</em></p>
<p></center></p>
<ul>
<li><strong>color rva (0-255)</strong>. Para establecer colores en formato <a href="https://es.wikipedia.org/wiki/RGB">RGB</a> (sigla del inglés Red, Green, Blue; en español, ‘Rojo, Verde, Azul’ o RVA), donde (0,0,0) corresponde a negro y (255,255,255) a blanco. </li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_rva.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque color rva (0-255)" src="../../img/guias/uB/B_rva.png" /></a><br />
<em>Bloque color rva (0-255)</em></p>
<p></center></p>
<p>La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage25389915.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque color rva (0-255)" src="../../img/guias/uB/scriptImage25389915.png" /></a><br />
<em>Definición del bloque color rva (0-255)</em></p>
<p></center></p>
<p>En la animación siguiente tenemos un ejemplo de uso de los bloques m:s display character y color rva. El ejemplo muestra la palabra 'Hola' caracter a caracter y tras un segundo muestra de forma intermitente el caracter '!' en un color RGB aleatorio.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/char_rva.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso de los bloques m:s display character y color rva" src="../../img/guias/uB/char_rva.gif" /></a><br />
<em>Uso de los bloques m:s display character y color rva</em><br />
<a href="../../program/uB/B_display_char_rva.ubp">Descargar programa</a></p>
<p></center></p>
<ul>
<li><strong>color hsv</strong>. Para establecer colores en formato HSV (siglas del inglés Hue, Saturation, Value – Matiz, Saturación, Valor).</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_HSV.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque color hsv" src="../../img/guias/uB/B_HSV.png" /></a><br />
<em>Bloque color HSV</em></p>
<p></center>
La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage6309188.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque color hsv)" src="../../img/guias/uB/scriptImage6309188.png" /></a><br />
<em>Definición del bloque color hsv</em></p>
<p></center></p>
<p>En la animación siguiente tenemos un ejemplo de uso de estos bloques HSV.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/led/color_hsv.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso de los bloques color hsv" src="../../img/led/color_hsv.gif" /></a><br />
<em>Uso de los bloques color hsv</em><br />
<a href="../../program/uB/color_hsv.ubp">Descargar programa</a></p>
<p></center></p>
<ul>
<li><strong>m:s scroll text with color (anima el texto)</strong>. Muestra el texto introducido mediante desplazamiento caracter a caracter con el color que establezcamos.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_anima_texto.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s scroll text with color (anima el texto)" src="../../img/guias/uB/B_anima_texto.png" /></a><br />
<em>Bloque m:s scroll text with color (anima el texto)</em></p>
<p></center></p>
<p>La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage5928505.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s scroll text with color (anima el texto)" src="../../img/guias/uB/scriptImage5928505.png" /></a><br />
<em>Definición del bloque m:s scroll text with color (anima el texto)</em></p>
<p></center></p>
<ul>
<li><strong>m:s stop scrolling</strong>. Detiene el desplazamiento o scroll del texto si se está realizando. Hay que tener presente que en el bloque scroll la detención está desabilitada.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_anima_texto_stop.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s stop scrolling" src="../../img/guias/uB/B_anima_texto_stop.png" /></a><br />
<em>Bloque m:s stop scrolling</em></p>
<p></center></p>
<p>La definición del bloque es:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage6313763.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s stop scrolling" src="../../img/guias/uB/scriptImage6313763.png" /></a><br />
<em>Definición del bloque m:s stop scrolling</em></p>
<p></center></p>
<p>A continuación vemos un ejemplo de uso de estos bloques.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scroll.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso de los bloques m:s scroll text with color y stop scrolling" src="../../img/guias/uB/scroll.gif" /></a><br />
<em>Uso de los bloques m:s scroll text with color y stop scrolling</em><br />
<a href="../../program/uB/B_scroll_text_stop.ubp">Descargar programa</a></p>
<p></center></p>
<h2 id="operadores"><FONT COLOR=#007575><strong>Operadores</strong></font><a class="headerlink" href="#operadores" title="Permanent link">&para;</a></h2>
<p>Esta entrada se crea porque en MicroBlocks, en el menú específico, aparecen algunos operadores especiales. Las descripciones siguiente son las obtenidas de <a href="https://wiki.microblocks.fun/reference_manual/operators">MicroBlocks Wiki</a>.</p>
<p>Dentro del grupo de bloques estándar tenemos los que se ven en la imagen.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub01.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloques estándar" src="../../img/guias/uB/oper/ub01.png" /></a><br />
<em>Bloques estándar</em></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/oper/ub02.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Módulo" src="../../img/guias/uB/oper/ub02.png" /></a>  Devuelve el resto de la división entre los dos números introducidos, ambos inclusive.</li>
<li><a class="glightbox" href="../../img/guias/uB/oper/ub03.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Aleatorio" src="../../img/guias/uB/oper/ub03.png" /></a> Devuelve un número aleatorio (al azar) entre el primer y el segundo valor indicado.</li>
</ul>
<p>En la imagen vemos un ejemplo donde se averigua si un número generado al azar es par o impar.</p>
<p>A la variable <code>num_aleatorio</code> se le asigna un número aleatorio del 1 al 15. La operación <code>módulo</code> se utiliza para comprobar si el resto es 0 y así saber si el número es par. Si el resto de la operación <code>num_aleatorio</code> dividido por 2 da como resultado 0, el número es par, en caso contrario es impar. Si el número es par se muestra un cuadrado (4 lados = par) y si es impar un triángulo rectángulo (3 lados = impar).</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub04.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Par o impar" src="../../img/guias/uB/oper/ub04.gif" /></a><br />
<em>Par o impar</em><br />
<a href="../../program/uB/par_impar.ubp">Descargar el programa</a></p>
<p></center></p>
<p>Con este ejemplo comprobamos que una vez conectada la micro:STEAMakers (si no el programa nos indica que no lo está y no funcionará), el bloque <code>di</code> muestra como retorno un mensaje que aparece asociado al bloque <code>al empezar</code> en la pantalla del ordenador. Esta es la forma de trabajar de MicroBlocks y hace que el código se compruebe de manera instantánea siempre que los bloques estén acoplados a <code>al empezar</code>.</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/oper/ub05.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="El dato es de tipo" src="../../img/guias/uB/oper/ub05.png" /></a>  Devuelve <code>True</code> si la expesión de entrada del lado izquierdo coincide con la selección del menú de tipos de datos realizada en el lado derecho. Los tipos de datos son importantes a la hora de programar. Aunque un entorno como MicroBlocks facilita las cosas a los usuarios principiantes al encargarse de las conversiones de tipos de datos, todavía es posible engañarse visualmente al comparar variables cuyos valores parecen iguales. Este bloque pertenece al grupo de condicionales, pero se describe ahora porque se utiliza en el ejemplo siguiente.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub06.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Número o cadena" src="../../img/guias/uB/oper/ub06.png" /></a><br />
<em>Número o cadena</em><br />
<a href="../../program/uB/num_cad.ubp">Descargar el programa</a></p>
<p></center></p>
<p>En la sección 'Avanzados' vemos algunos bloques que representan operaciones bit a bit. Los operadores bit a bit (bitwise) trabajan sobre representaciones binarias de datos y su utilidad está en cambiar bits individuales en un operando. Los dos operandos asociados al operador bit a bit deben ser enteros. En la imagen vemos los bloques que aparecen en avanzados.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub07.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloques de operadores avanzados" src="../../img/guias/uB/oper/ub07.png" /></a><br />
<em>Bloques de operadores avanzados</em></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/oper/ub08.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Reescalado" src="../../img/guias/uB/oper/ub08.png" /></a> Permite modificar el rango de un valor o variable desde un rango origen a un rango destino. Esta función es especialmente útil para adaptar los valores leídos de sensores o para adaptar valores a aplicar en un actuador.</li>
<li><a class="glightbox" href="../../img/guias/uB/oper/ub09.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Hexadecimal" src="../../img/guias/uB/oper/ub09.png" /></a> Convierte una cadena Hexadecimal en un número decimal. Por ejemplo, 5A hex. = 90 dec.</li>
<li><a class="glightbox" href="../../img/guias/uB/oper/ub10.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bitwise AND" src="../../img/guias/uB/oper/ub10.png" /></a>  El operador AND compara dos bits y genera un resultado igual a 1 si ambos bits son 1; en caso contrario, devuelve 0. Números de mas de un bit son comparados bit a bit. Un ejemplo de aplicación lo vemos en la imagen siguiente.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub11.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="bitwise AND" src="../../img/guias/uB/oper/ub11.png" /></a><br />
<em>bitwise AND</em></p>
<p></center></p>
<p>La tabla siguiente muestra la forma de obtener el resultado de forma teórica.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub12.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="bitwise AND" src="../../img/guias/uB/oper/ub12.png" /></a>  </p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/oper/ub13.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bitwise OR" src="../../img/guias/uB/oper/ub13.png" /></a>  El operador OR compara dos bits y devuelve 1 si uno o ambos bits son 1 y da 0 si ambos bits son 0. Bitwise OR compara todas las posiciones de bits de ambos números e informa de aquellas en las que cualquiera de los dos está a 1.</li>
</ul>
<p>Un ejemplo de aplicación lo vemos en la imagen siguiente.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub14.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="bitwise OR" src="../../img/guias/uB/oper/ub14.png" /></a><br />
<em>bitwise OR</em></p>
<p></center></p>
<p>La tabla siguiente muestra la forma de obtener el resultado de forma teórica.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub15.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="bitwise OR" src="../../img/guias/uB/oper/ub15.png" /></a>  </p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/oper/ub16.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bitwise XOR" src="../../img/guias/uB/oper/ub16.png" /></a>  El operador EXCLUSIVE-OR compara dos bits y genera un resultado de 1 si los bits son complementarios (el bit se establece en un operando pero no en ambos); en caso contrario, devuelve 0. Otra forma de pensar en la operación XOR es que invertirá las posiciones de los bits en las que el segundo operando tenga un 1. Todas las demás se copiarán igual.</li>
</ul>
<p>Un ejemplo de aplicación lo vemos en la imagen siguiente.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub17.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="bitwise XOR" src="../../img/guias/uB/oper/ub17.png" /></a><br />
<em>bitwise XOR</em></p>
<p></center></p>
<p>La tabla siguiente muestra la forma de obtener el resultado de forma teórica.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub18.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="bitwise XOR" src="../../img/guias/uB/oper/ub18.png" /></a>  </p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/oper/ub19.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bitwise NOT" src="../../img/guias/uB/oper/ub19.png" /></a>  El operador NOT se utiliza para invertir (BIT FLIP) todos los bits del operando. Cuando el bit de posición más alta de un número se convierte en 1, ese número se considera un número negativo. La representación informática real de un número entero con signo en MicroBlocks es de 31 bits. El bit de mayor peso es un bit de signo. Esto permite números en el rango de -1073741824 a 1073741823. Cuando el bit de signo es 0, el número es positivo; y cuando es 1, el número es negativo.</li>
</ul>
<p>Un ejemplo de aplicación lo vemos en la imagen siguiente.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub20.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="bitwise NOT" src="../../img/guias/uB/oper/ub20.png" /></a><br />
<em>bitwise NOT</em></p>
<p></center></p>
<p>La explicación es sencilla, el número 3 (0011) se convierte al binario 1100 y como el bit de mayor peso es 1 indica que es negativo y el número es 4, por lo tanto el resultado es -4.</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/oper/ub21.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bitwise desplazamiento izquierda" src="../../img/guias/uB/oper/ub21.png" /></a> El valor del operando izquierdo se desplaza hacia la izquierda el número de bits especificado por el operando derecho. Los bits se desplazan hacia la izquierda, el bit situado más a la izquierda se descarta y al bit situado más a la derecha se le asigna el valor 0. Cada posición de bit desplazada a la izquierda equivale en binario a multiplicar por 2. En la imagen siguiente vemos el funcionamiento del desplazamiento a la izquierda a nivel de bit.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub22.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="bitwise desplazamiento izquierda" src="../../img/guias/uB/oper/ub22.png" /></a><br />
<em>bitwise desplazamiento izquierda</em></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/oper/ub23.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bitwise desplazamiento derecha" src="../../img/guias/uB/oper/ub23.png" /></a> El valor del operando izquierdo se desplaza hacia la derecha el número de bits especificado por el operando derecho. Los bits se desplazan hacia la derecha, el bit situado más a la derecha se descarta y al bit situado más a la izquierda se le asigna una copia del bit de signo. Esto se denomina desplazamiento aritmético. Por cada posición de bit desplazada a la derecha, esta operación es el equivalente binario de dividir por 2. En la imagen siguiente vemos el funcionamiento del desplazamiento a la derecha a nivel de bit.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/ub24.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="bitwise desplazamiento derecha" src="../../img/guias/uB/oper/ub24.png" /></a><br />
<em>bitwise desplazamiento izquierda</em></p>
<p></center></p>
<h2 id="variables"><FONT COLOR=#007575>Variables</font><a class="headerlink" href="#variables" title="Permanent link">&para;</a></h2>
<p>En MicroBlocks se contemplan dos tipos de variables, las globales y las locales. Cuando hablamos en estos términos hablamos de ámbito (scope) de las variables y determina la zona donde se define la variable, que son global y local.</p>
<p>Las variables locales son las definidas dentro de una función y solamente está disponible para el código que se ejecuta dentro de la función.</p>
<p>Las variables globales se definen en cualquier punto del programa, normalmente al principio, y pueden ser llamadas desde cualquier sitio del programa, incluso desde las funciones.</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/var/var1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Añadir o crear variable" src="../../img/guias/uB/var/var1.png" /></a> Este bloque es en realidad un botón que crea una nueva variable global. Si existe una variable con el mismo nombre, se creará una nueva con el mismo nombre y el número 2 añadido. Cuando creamos una variable se nos pide el nombre de la misma en una ventana emergente y una vez creada aparecerá un nuevo bloque para acceder al valor de la variable creada. Además esta nueva variable estará disponible para su selección en dos de los bloques que explicaremos después.</li>
<li><a class="glightbox" href="../../img/guias/uB/var/var2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Borrar variable" src="../../img/guias/uB/var/var2.png" /></a>  Este bloque es en realidad un botón que sirve para eliminar una variable previamente creada.</li>
</ul>
<p>En la animación siguiente vemos el proceso de creación y eliminación de variables.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/var/var3.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Creación y eliminación de variables" src="../../img/guias/uB/var/var3.gif" /></a><br />
<em>Creación y eliminación de variables</em></p>
<p></center></p>
<p>La opción de mostrar el nombre de las variables mostrada desde el bloque se puede utilizar para añadir variables mientras se edita el código del programa, sin pasar a las opciones de la categoría variables.</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/var/var4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Asigna valor a variable" src="../../img/guias/uB/var/var4.png" /></a>  Este bloque asigna el valor a cualquier variable, global o local, en la cantidad especificada en el área de entrada. La cantidad que se asigna puede ser un número positivo o negativo. Para mostrar los nombres de las variables locales en el menú de selección, este bloque debe estar físicamente unido a la secuencia de bloques en la que se utiliza el bloque 'Inicializar local' que veremos a continuación.</li>
<li><a class="glightbox" href="../../img/guias/uB/var/var5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Aumenta el valor de una variable" src="../../img/guias/uB/var/var5.png" /></a>  Este bloque suma algebraicamente (cambia) el valor de cualquier variable, global o local, en la cantidad especificada en el área de entrada. La cantidad de cambio puede ser un número positivo o negativo.</li>
<li><a class="glightbox" href="../../img/guias/uB/var/var6.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Inicializa variable local" src="../../img/guias/uB/var/var6.png" /></a>  Este bloque se utiliza para crear e inicializar variables locales. El nombre predeterminado de la variable 'var' puede cambiarse por cualquier otro haciendo clic en el nombre y escribiendo un nuevo nombre en el cuadro de diálogo que se abre. Despés, si es necesario cambiar el valor de la variable local, se puede utilizar el bloque 'asigna valor a' de la categoría variables. En la animación siguiente vemos este proceso y la disponibilidad o no de la variable local.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/var/var7.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Inicializa variable local" src="../../img/guias/uB/var/var7.gif" /></a><br />
<em>Inicializa variable local</em></p>
<p></center></p>
<p>Una variable global tiene:</p>
<ul>
<li><strong>Alcance global</strong>: Una variable global puede utilizarse en cualquier script que no tenga una variable local del mismo nombre que la anule.</li>
<li><strong>Tiempo de vida largo</strong>: Una variable global es creada explícitamente y vive hasta que es explícitamente borrada. Conserva su valor cuando los scripts se inician y detienen e incluso cuando no hay scripts en ejecución. Sin embargo, al hacer clic en el botón "Detener", todas las variables globales se borran e inicializan con el valor cero. Las variables globales también se inicializan a cero cuando se crean por primera vez y cuando se carga un proyecto.</li>
</ul>
<p>Por el contrario, una <strong>variable local</strong> tiene:</p>
<ul>
<li><strong>Ámbito local</strong>: Una variable local sólo puede utilizarse en el script en el que aparece. Si varios scripts utilizan variables locales con el mismo nombre, esas variables son independientes entre sí. Aunque esta práctica se desaconseja porque puede inducir a errores.</li>
<li><strong>Tiempo de vida limitado</strong>: Una variable local de un script se crea cuando se inicia el script y se elimina cuando éste finaliza. Se crea una nueva variable local cada vez que se inicia un script (incluyendo un script de función), y las variables locales de cada invocación de script son independientes entre sí.</li>
<li><strong>Precedencia sobre las globales</strong>: Si una variable local tiene el mismo nombre que una variable global, la variable local prevalece sobre la global en el script en el que aparece la variable local. Una variable es local en todo el script sin importar en qué parte del script aparezca "inicializar var local a", aunque es una buena práctica de codificación que "inicializar var local a" preceda a cualquier otra referencia a esa variable.</li>
</ul>
<p>Un ejemplo comentado de aplicación lo vemos en la imagen siguiente.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/var/var8.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Variables" src="../../img/guias/uB/var/var8.gif" /></a><br />
<em>Variables</em><br />
<a href="../../program/uB/variables.ubp">Descargar el programa</a></p>
<p></center></p>
<h2 id="bucles"><FONT COLOR=#007575>Bucles</font><a class="headerlink" href="#bucles" title="Permanent link">&para;</a></h2>
<p>En el caso de MicroBlocks los bucles, condicionales y funciones están todos englobados en la categoría 'Control'. Vamos a ver algunos de ellos en esta ocasión y los que no veamos en esta actividad se irán viendo cuando los necesitemos.</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/bucles/bu1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Al empezar" src="../../img/guias/uB/bucles/bu1.png" /></a>  Los bloques con forma de sombrero forman parte de un grupo de bloques de control que comienzan a ejecutarse cuando se pulsa el icono verde <code>Inicia</code>. Este bloque se activa cuando se cumple la condición de inicio del programa.</li>
<li><a class="glightbox" href="../../img/guias/uB/bucles/bu2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bucle infinito" src="../../img/guias/uB/bucles/bu2.png" /></a>  Los bloques con forma de "C" son un grupo de bloques de control que ejecutan el código colocado en su interior siempre que se cumplan las condiciones descritas en sus subtítulos. Estos son los bloques de tipo bucle. Este en particular ejecutará los bloques en su interior indefinidamente.</li>
<li><a class="glightbox" href="../../img/guias/uB/bucles/bu3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bucle para número de iteraciones" src="../../img/guias/uB/bucles/bu3.png" /></a>  Este bloque C ejecuta el código colocado en su interior el número especificado de veces.</li>
</ul>
<p>En el ejemplo siguiente veremos tanto en el programa como en la pantalla la suma de los 10 primero números naturales.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/bucles/bu4.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Suma de los 10 primeros números" src="../../img/guias/uB/bucles/bu4.gif" /></a><br />
<em>Suma de los 10 primeros números</em><br />
<a href="../../program/uB/suma_10_primeros_numeros.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li>
<p><a class="glightbox" href="../../img/guias/uB/bucles/bu5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bucle for" src="../../img/guias/uB/bucles/bu5.png" /></a>  Este bloque es también de tipo C y pertenece al grupo de los bucles. Funciona de dos formas distintas en función del tipo de entrada especificado.</p>
</li>
<li>
<p>Si la <strong>entrada es un número</strong>, los bloques interiores se ejecutarán tantas veces como el número. En cada iteración del bucle, empezando por uno, el parámetro o variable de control es 'i' por defecto y se incrementará en uno. Este valor se puede utilizar en el código del programa como se crea conveniente.</p>
</li>
<li>El nombre del parámetro de control puede cambiarse por otro haciendo clic en la 'i' y escribiendo un nuevo nombre.</li>
<li>Si la <strong>entrada es una lista</strong>, los bloques colocados dentro se ejecutarán tantas veces como elementos tenga la lista. En cada iteración, el parámetro de control 'i' tomará el valor de cada elemento de la lista de manera secuencial.</li>
</ul>
<p>En el ejemplo siguiente vemos una animación de un sencillo programa de como hacer un contador con los 5 primeros números y hacer que se muestre en el ordenador y en la pantalla de la micro:STEAMakers.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/bucles/bu6.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Mostrar los 5 primeros números" src="../../img/guias/uB/bucles/bu6.gif" /></a><br />
<em>Mostrar los 5 primeros números</em><br />
<a href="../../program/uB/muestra_5_primeros_numeros.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/bucles/bu7.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="espera en milisegundos" src="../../img/guias/uB/bucles/bu7.png" /></a>  Este bloque pausa el flujo de ejecución del programa por el tiempo especificado en milisegundos. Se utiliza para pausar y reanudar la ejecución de código de forma controlada.</li>
<li><a class="glightbox" href="../../img/guias/uB/bucles/bu8.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="espera en microsegundos" src="../../img/guias/uB/bucles/bu8.png" /></a>  Este bloque pausa el flujo de ejecución del programa por el tiempo especificado en microsegundos. Se utiliza para pausar y reanudar la ejecución de código de forma controlada.</li>
<li><a class="glightbox" href="../../img/guias/uB/bucles/bu9.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="envía o broadcast" src="../../img/guias/uB/bucles/bu9.png" /></a>  Emite el mensaje especificado. Véase en conjunto a <a class="glightbox" href="../../img/guias/uB/bucles/bu10.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="al recibir" src="../../img/guias/uB/bucles/bu10.png" /></a>. Este bloque envía el contenido del mensaje especificado. Todos los bloques de mensajes <code>al recibir</code> con el mismo mensaje en su contenido recibirán el mensaje y actuarán ejecutando su contenido.</li>
<li><a class="glightbox" href="../../img/guias/uB/bucles/bu10.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="al recibir" src="../../img/guias/uB/bucles/bu10.png" /></a>  Ejecuta cuando se emita el mensaje especificado. Este bloque y su par funcional <a class="glightbox" href="../../img/guias/uB/bucles/bu9.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="envía o broadcast" src="../../img/guias/uB/bucles/bu9.png" /></a> se suelen utilizar juntos para conseguir un medio de comunicación dentro del programa. Cualquier mensaje enviado con el comando <code>envía</code> es detectado y recibido por este bloque. Así, los bloques colocados bajo este bloque se ejecutarán al recibir el mensaje correspondiente. Los mensajes pueden ser cadenas o números. Además, el bloque <a class="glightbox" href="../../img/guias/uB/bucles/bu11.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ultimo mensaje" src="../../img/guias/uB/bucles/bu11.png" /></a> contiene el último mensaje emitido y recibido.</li>
<li><a class="glightbox" href="../../img/guias/uB/bucles/bu11.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="ultimo mensaje" src="../../img/guias/uB/bucles/bu11.png" /></a>  Devuelve el último mensaje enviado en todo el programa, cronológicamente hablando. Nótese que <strong>NO</strong> es el último mensaje recibido por una secuencia de bloques concreta del programa, y es independiente de la ejecución del bloque <code>al recibir</code>. No hay colas de mensajes en el sistema. Si no hay ningún <code>al recibir</code> en espera cuando se envía un mensaje, se perderá y será sobrescrito por el siguiente mensaje.</li>
</ul>
<p>En el ejemplo siguiente vemos de forma sencilla el funcionamiento de estos tres últimos bloques.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/bucles/bu12.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Di el último mensaje" src="../../img/guias/uB/bucles/bu12.gif" /></a><br />
<em>Di el último mensaje</em><br />
<a href="../../program/uB/ultimo_mensaje.ubp">Descargar el programa</a></p>
<p></center></p>
<h2 id="listas"><FONT COLOR=#007575>Listas</font><a class="headerlink" href="#listas" title="Permanent link">&para;</a></h2>
<p>Los bloques para trabajar con listas están en el menú 'Datos' y los disponibles los vemos en la imagen siguiente.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/listas/lista1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloques para Listas. Datos" src="../../img/guias/uB/listas/lista1.png" /></a><br />
<em>Bloques para Listas. Datos</em></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/listas/l1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l1.png" /></a> Devuelve una lista corta que contiene algunos elementos en inglés. Con las flechas podemos añadir o eliminar elementos a la lista aunquw a partir del cuarto se repite siempre el mismo. Para crear una lista vacía (<a class="glightbox" href="../../img/guias/uB/listas/l2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l2.png" /></a>) basta con eliminar el único elemento existente cuando se crea una nueva.</li>
<li><a class="glightbox" href="../img/guias/uB/listas/listas/l3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/guias/uB/listas/listas/l3.png" /></a> Une (concatena) cadenas, listas o matrices de bytes y devuelve el resultado.</li>
<li><a class="glightbox" href="../../img/guias/uB/listas/l4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l4.png" /></a> Devuelve el carácter <a href="https://en.wikipedia.org/wiki/List_of_Unicode_characters">Unicode</a> del número dado.</li>
<li><a class="glightbox" href="../../img/guias/uB/listas/l5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l5.png" /></a> Devuelve el enésimo elemento de una lista, cadena o matriz de bytes.</li>
<li><a class="glightbox" href="../../img/guias/uB/listas/l6.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l6.png" /></a>  Combina los elementos de una lista en una cadena, opcionalmente se puede usar un carácter delimitador.</li>
<li><a class="glightbox" href="../../img/guias/uB/listas/l7.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l7.png" /></a>  Añade un elemento al final de una lista.</li>
</ul>
<p>En el ejemplo siguiente vemos el uso de estos bloques. Comenzamos por crear una cadena de caracteres de la que vamos a extraer la palabra "un" mediante la unión de los elementos 9 y 10 de la cadena. Se crea una lista con cuatros animales y finalmente se muestra la palabra 'un' seguida de la posición 3 de la lista creada.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/listas/l8.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Un pajaro" src="../../img/guias/uB/listas/l8.gif" /></a><br />
<em>Un pajaro</em><br />
<a href="../../program/uB/un_pajaro.ubp">Descargar el programa</a></p>
<p></center></p>
<p>En este otro ejemplo vemos como se generan los caracteres de latín básico comenzando por el espacio en blanco (32), diferentes símbolos, números, letras mayúsculas y letras minúsculas. Se muestra en pantalla un caracter cada 100ms y en pantalla la lista completa de caracteres generados.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/listas/l9.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Caracteres Unicode de Latín básico" src="../../img/guias/uB/listas/l9.gif" /></a><br />
<em>Caracteres Unicode de Latín básico</em><br />
<a href="../../program/uB/unicode.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/listas/l10.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l10.png" /></a> Devuelve el número de elementos de una lista, cadena o matriz de bytes.</li>
<li><a class="glightbox" href="../../img/guias/uB/listas/l11.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l11.png" /></a> Sustituye el enésimo elemento de una lista por el valor dado. También puede sustituir todos los elementos por un valor.</li>
<li><a class="glightbox" href="../../img/guias/uB/listas/l12.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l12.png" /></a> Elimina el elemento N de una lista. La lista resultante se reduce de tamaño. También puede eliminar todos los elementos.</li>
</ul>
<p>A continuación vemos un ejemplo en el que se demuestra la funcionalidad de estos tres bloques.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/listas/l13.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Sustituir, eliminar y tamaño" src="../../img/guias/uB/listas/l13.gif" /></a><br />
<em>Sustituir, eliminar y tamaño</em><br />
<a href="../../program/uB/sustituir_eliminar_long.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/listas/l14.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l14.png" /></a> Devuelve la posición de la primera coincidencia de una subcadena dentro de una cadena o un elemento de una lista. Devuelve -1 si no encuentra coincidencias.</li>
</ul>
<p>En el ejemplo siguiente las variables locales <code>cadena</code> y <code>animales</code> se inicializan como de tipo string y list respectivamente. El primer conjunto de resultados opera sobre la cadena, buscando la posición de la primera apariciones de "es". La primera coincidencia se encuentra en el carácter número uno. La segunda búsqueda se inicia en el carácter número tres, y localiza el objetivo de la búsqueda en el carácter número seis. La búsqueda de "perro" en la lista 'animales' la encuentra en el elemento número dos de la lista. La segunda búsqueda de "perro" en la lista 'animales' comienza en el elemento número tres y devuelve -1 porque no lo encuentra. No hay ningún "raton" en la lista, por lo que la búsqueda devuelve -1.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/listas/l15.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Buscar" src="../../img/guias/uB/listas/l15.png" /></a><br />
<em>Buscar</em><br />
<a href="../../program/uB/buscar.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/listas/l16.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l16.png" /></a> Copia una cadena desde/hasta el caracter especificado, o una desde/hasta el elemento indicado. Como ya sabemos para mostrar el parámetro hasta hay que hacer clic en el triángulo negro.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/listas/l17.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Copiar" src="../../img/guias/uB/listas/l17.png" /></a><br />
<em>Copiar</em><br />
<a href="../../program/uB/copiar.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/listas/l18.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l18.png" /></a> Devuelve una lista separando la cadena especificada por el delimitador opcional. Si no se especifica ningún delimitador, la cadena se divide por cada carácter.</li>
</ul>
<p>En la imagen vemos una cadena delimitada por comas que separa los caracteres mediante el delimitador coma en una lista de tres elementos.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/listas/l19.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l19.png" /></a></p>
<p></center></p>
<p>A continuación vemos una cadena que incluye un carácter retorno de línea después del ABC y DEF que se separa mediante el caracter unicode de nueva línea (return) en una lista de tres elementos.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/listas/l20.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l20.png" /></a></p>
<p></center></p>
<p>En este otro caso separamos la URL de la descarga de MicroBlocks en partes mediante el delimitador /.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/listas/l21.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l21.png" /></a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/listas/l22.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l22.png" /></a>  Devuelve el valor Unicode del carácter enésimo de la cadena introducida. El número de caracteres introducido debe estar comprendido entre uno y la longitud de la cadena. Este bloque es el opuesto de <a class="glightbox" href="../img/programacion/ublocks/uB/listas/l4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../img/programacion/ublocks/uB/listas/l4.png" /></a>.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/listas/l23.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l23.png" /></a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/listas/l24.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l24.png" /></a> Crea una nueva lista del número de elementos especificado. Hay que controlar la disponibilidad de memoria. Los elementos de la lista creada se pueden inicializar a cualquier valor utilizando la opción de bloque con todos.</li>
<li><a class="glightbox" href="../../img/guias/uB/listas/l25.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l25.png" /></a> Crea una matriz del número de elementos especificado en función de la disponibilidad de memoria. Cada elemento es de tamaño byte y se le pueden asignar valores en el rango de 0-255 (0-FF).</li>
<li><a class="glightbox" href="../../img/guias/uB/listas/l26.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l26.png" /></a> Devuelve una cadena que indica el número de palabras de 32 bits de memoria dinámica disponibles para asignar nuevos objetos (cadenas, listas o matrices de bytes). Al pulsar el botón de parada se libera toda la memoria. Justo después de pulsar el botón de parada, este bloque informa del total de memoria dinámica disponible en un dispositivo determinado. Los dispositivos tienen diferentes cantidades de memoria dinámica, basadas en la cantidad de RAM proporcionada por el hardware. Por ejemplo, la micro:bit v2 tiene mucha más RAM que la micro:bit original.</li>
</ul>
<p>Un ejemplo de uso.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/listas/l27.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Nueva lista" src="../../img/guias/uB/listas/l27.png" /></a><br />
<em>Nueva lista</em><br />
<a href="../../program/uB/nueva_lista_mem.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/listas/l28.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/listas/l28.png" /></a>  Convierte un byte, una lista o una cadena especificada en una matriz de bytes. Cada elemento es el valor unicode de las letras de la cadena en el rango de 0-255 (0-FF).</li>
</ul>
<h2 id="mas-operadores"><FONT COLOR=#007575><strong>Mas operadores</strong></font><a class="headerlink" href="#mas-operadores" title="Permanent link">&para;</a></h2>
<p>Los operadores aún no vistos son:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/O_arit_comp_bool.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Operadores aritméticos, de comparación y booleanos" src="../../img/guias/uB/oper/O_arit_comp_bool.png" /></a></p>
<p><em>Operadores aritméticos, de comparación y booleanos</em></p>
<p></center></p>
<p>Los operadores aritméticos y de comparación no requieren de mayor explicación por lo que nos vamos a centrar en los booleanos.</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/oper/b1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/oper/b1.png" /></a> Operador booleano <code>True</code> o <code>False</code>. Devuelve verdadero o falso en función de la posición del selector, o de la evaluación binaria de la expresión utilizada como entrada. Este bloque se usa dentro de muchos otros bloques, donde se utiliza para controlar el flujo de las ejecuciones y eventos.</li>
</ul>
<p>El bloque <code>if</code> es un buen ejemplo para demostrar el uso del bloque verdadero/falso.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/oper_T_F.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso sencillo del operador True/False" src="../../img/guias/uB/oper/oper_T_F.gif" /></a><br />
<em>Uso sencillo del operador <code>True/False</code></em><br />
<a href="../../program/uB/verdadero_falso.ubp">Descargar el programa</a></p>
<p></center></p>
<p>El código del ejemplo se ejecuta de dos maneras diferentes siempre dentro de un bucle infinito en el que se genera un número aleatorio que puede valer 1, 2 o 3:</p>
<ul>
<li>La primera es la condición de la rama <code>IF</code> que será verdadera si el número generado es 1.</li>
<li>La segunda es la rama <code>ELSE IF</code> que se evalúa si la condición del <code>IF</code> no es verdadera y se pone a verdadero, ejecutando su código.</li>
<li>
<p>La tercera es la condición <code>ELSE</code> a la que nunca se llega porque si el número vale 1 se ejecuta el <code>IF</code> y si no se ejecuta el <code>ELSE IF</code> que siempre es cierto. Es decir, aunque se genere <code>variable = 3</code> la condición <code>ELSE</code> no se ejecuta.</p>
</li>
<li>
<p><a class="glightbox" href="../../img/guias/uB/oper/b2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/oper/b2.png" /></a> Invierte el valor lógico asociado a la expresión sobre la que opera. Tal y como se muestra, <code>NOT</code> devolverá <code>FALSE</code> si el deslizador se establece en <code>TRUE</code>, y <code>TRUE</code> si se establece en <code>FALSE</code>.</p>
</li>
</ul>
<p>En el ejemplo siguiente, una variable llamada <code>cadena</code> se inicializa como "MicroBlocks es genial", y una variable llamada <code>expresion</code> se inicializa en <code>TRUE</code> de una forma peculiar, diciendo que algo es igual a si mismo. Cuando se aplica <code>NOT</code> al resultado de la expresión de igualdad, se cambia a <code>FALSE</code>.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/not.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso sencillo del operador NOT" src="../../img/guias/uB/oper/not.png" /></a><br />
<em>Uso sencillo del operador <code>NOT</code></em><br />
<a href="../../program/uB/not.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/oper/b3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/oper/b3.png" /></a>  Devuelve verdadero sólo si todas sus entradas son verdadero y devuelve falso en caso contrario. Como ambas condiciones tienen que ser verdaderas para obtener un resultado verdadero, si se detecta un falso en la primera condición, no es necesario evaluar la segunda; se devuelve falso inmediatamente.</li>
</ul>
<p>En el ejemplo tenemos dos variables <code>salir</code> y <code>llueve</code> que se inicializan a falso. Se muestran una serie de mensajes y al final se evalúa si "necesito un paraguas" comprobando si es cirto 'voy a salir y si llueve'. Si no necesito un paraguas se muestra en pantalla un check y si lo necesito se muestra un paraguas. Ambas condiciones tienen que ser verdaderas para que necesitemos un paraguas. Podemos cambiar el estado de las variables y comprobar lo que ocurre.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/and.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso sencillo del operador AND" src="../../img/guias/uB/oper/and.gif" /></a><br />
<em>Uso sencillo del operador <code>AND</code></em><br />
<a href="../../program/uB/and.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/oper/b4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/oper/b4.png" /></a>  Devuelve verdadero si uno o ambos operandos son verdaderos y devuelve falso en caso contrario. Similar a <code>AND</code> pero opuesto a él, aquí sólo una de las dos condiciones tiene que ser verdadera para un resultado verdadero. Por lo tanto, si la primera condición es verdadera, no es necesario comprobar la segunda.</li>
</ul>
<p>En el ejemplo estamos generando aleatoriamente dos números en el rango de 1 a 5. A continuación, comprobamos si alguno de los dos números es igual al número que estamos buscando (3). El bloque <code>OR</code> se utiliza para verificar el resultado de la comparación.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/or.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso sencillo del operador OR" src="../../img/guias/uB/oper/or.gif" /></a><br />
<em>Uso sencillo del operador <code>OR</code></em><br />
<a href="../../program/uB/or.ubp">Descargar el programa</a></p>
<p></center></p>
<p>Cada vez que pulsemos en 'Iniciar' se genera un nuevo resultado.</p>
<h2 id="botones-y-bloques-de-control"><FONT COLOR=#007575><strong>Botones y bloques de control</strong></font><a class="headerlink" href="#botones-y-bloques-de-control" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>m:s button?</strong> Este bloque permite saber si se ha pulsado el botón A o el B.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/botyC/c1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s button?" src="../../img/guias/uB/botyC/c1.png" /></a><br />
<em>Bloque m:s button?</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/botyC/scriptImage6766153.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s button?" src="../../img/guias/uB/botyC/scriptImage6766153.png" /></a><br />
<em>Definición del bloque m:s button?</em></p>
<p></center></p>
<ul>
<li><strong>m:s touching?</strong> Este bloque permite saber si se ha tocado (pulsado) la zona táctil.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/botyC/c2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s touching?" src="../../img/guias/uB/botyC/c2.png" /></a><br />
<em>Bloque m:s touching?</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/botyC/scriptImage6970292.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s touching?" src="../../img/guias/uB/botyC/scriptImage6970292.png" /></a><br />
<em>Definición del bloque m:s touching?</em></p>
<p></center></p>
<p>En el ejemplo siguiente vemos el uso básico de estos tres bloques de la libreria micro:STEAMakers.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/uso_botones.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso sencillo de los botones" src="../../img/guias/uB/oper/uso_botones.gif" /></a><br />
<em>Uso sencillo de los botones</em><br />
<a href="../../program/uB/uso_botones.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/botyC/c3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/botyC/c3.png" /></a>  El bloque <code>IF</code> comprueba la condición booleana y ejecuta los bloques de una sola vez si la condición booleana se evalúa como verdadera. El triángulo negro permite la expansión del bloque <code>IF</code> con múltiples condiciones <code>ELSE IF</code> añadidas. En caso de que las ramas <code>IF</code> o <code>ELSE IF</code> anteriores no sean verdaderas, entonces se evalúan y ejecutan sucesivamente cada una de las siguientes <code>ELSE IF</code>.</li>
</ul>
<p>En el ejemplo siguiente, a la variable <code>aleatorio</code> se le asigna un número al azar entre el 1 y el 9. La operación MOD se utiliza para sondear el estado par/impar del número. Si el resto de la operación 'num dividido por 2' da como resultado 0, el número es par, en caso contrario es impar.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/if.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Sentencia IF" src="../../img/guias/uB/oper/if.gif" /></a><br />
<em>Sentencia <code>IF</code></em><br />
<a href="../../program/uB/if_else.ubp">Descargar el programa</a></p>
<p></center></p>
<p>Cada vez que pulsemos en 'Iniciar' se genera un nuevo resultado, se indica si el número es par o impar mientras se muestra el número en los LEDs.</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/botyC/c4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/botyC/c4.png" /></a>  El bloque 'cuando' comprueba repetidamente una condición booleana. Cuando la condición se convierte en verdadera, se ejecutan los bloques bajo el sombrero. Si la condición sigue siendo verdadera al final de la ejecución, entonces los bloques se ejecutarán de nuevo, y ese proceso se repite hasta que la condición se convierte en falsa.</li>
</ul>
<p>Nota: El sombrero 'cuando' incluye una espera de 10 milisegundos entre ciclos. Esto es útil para eliminar ruido en las entradas, por ejemplo rebotes en los botones, pero limita el rendimiento a un máximo de 100 iteraciones/segundo.</p>
<p>Vamos a ver el mismo ejemplo que en el bloque <code>IF</code> pero utilizando este bloque. Los tres bloques del tipo <code>WHEN</code> empiezan a funcionar simultáneamente cuando se pulsa el icono <code>START</code>. El bloque 'por siempre' debajo de 'al empezar' genera un número aleatorio cada segundo. Y de forma simultanea los otros dos bloques evaluan continuamente sus condiciones mostrando el resultado que corresponde a cada uno.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/cuando.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque 'cuando'" src="../../img/guias/uB/oper/cuando.gif" /></a><br />
<em>Bloque 'cuando'</em><br />
<a href="../../program/uB/cuando.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/botyC/c5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/botyC/c5.png" /></a>  Este bloque de control pausa la ejecución del programa y espera hasta que la condición booleana especificada se convierta en verdadera. Se puede utilizar para sincronizar bloques de código que se ejecutan en paralelo, basándose en los eventos monitorizados.</li>
<li><strong>m:s light %</strong>. Este bloque permite trabajar con el nivel de iluminación medido por el sensor montado en la placa micro:STEAMakers.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/botyC/c6.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s light %" src="../../img/guias/uB/botyC/c6.png" /></a><br />
<em>Bloque m:s light %</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/botyC/scriptImage28443859.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s light %" src="../../img/guias/uB/botyC/scriptImage28443859.png" /></a><br />
<em>Definición del bloque m:s light %</em></p>
<p></center></p>
<p>En este ejemplo, el nivel de luz ambiental se controla mediante el sensor de luz integrado. Cuando se inicia el programa, ambos bloques 'cuando se pulse el boton' comienzan a ejecutarse y a comprobar el estado del botón.</p>
<p>Al pulsar el botón A, se inicia la monitorización de la luz y el programa espera hasta que los sensores de la micro:bit informen de un nivel de luz &lt; 75. Cuando esa condición se cumple, se emite una alerta para avisar de que hay que encender las luces.</p>
<p>El botón B está programado para detener el proceso de monitorización. Al pulsarlo, detiene la ejecución de esa rama del programa.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/cuando_pulsa_boton.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque 'cuando se pulsa el boton'" src="../../img/guias/uB/oper/cuando_pulsa_boton.gif" /></a><br />
<em>Bloque 'cuando se pulsa el boton'</em><br />
<a href="../../program/uB/cuando_pulsa_boton.ubp">Descargar el programa</a></p>
<p></center></p>
<p>El bloque 'deten las otras tareas' se explica un poco mas adelante.</p>
<ul>
<li>
<p><a class="glightbox" href="../../img/guias/uB/botyC/c7.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/botyC/c7.png" /></a>  El bloque <code>RETURN</code> se utiliza para devolver el valor especificado en su área de entrada. El valor retornado puede ser cualquier tipo de dato. Aunque es posible utilizar el bloque <code>RETURN</code> en cualquier parte de un programa para mostrar un valor, de forma similar al bloque <code>di</code>, su uso correcto y más común es en una función (o bloque personalizado) para devolver un valor como resultado del proceso realizado. Hay que tener en cuenta que los bloques colocados después del bloque <code>RETURN</code> no se ejecutarán.</p>
</li>
<li>
<p><a class="glightbox" href="../../img/guias/uB/botyC/c8.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/botyC/c8.png" /></a>  Este bloque tipo C es un bucle que se utiliza para ejecutar los bloques colocados dentro de él, mientras que la condición booleana especificada se convierte en verdadera. En ese momento, se ejecutará el siguiente bloque después del bloque en forma de C.</p>
</li>
</ul>
<p>En el ejemplo vemos como se monitoriza si se ha pulsado el botón A enviando un mensaje.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/B_repetir.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque 'repetir hasta que'" src="../../img/guias/uB/oper/B_repetir.gif" /></a><br />
<em>Bloque 'repetir hasta que'</em><br />
<a href="../../program/uB/B_repetir.ubp">Descargar el programa</a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/botyC/c9.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/botyC/c9.png" /></a>  Este bloque, y su par relacionado <a class="glightbox" href="../../img/guias/uB/botyC/c10.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/botyC/c10.png" /></a>, se utilizan para controlar el hilo de ejecución del programa. Este bloque detiene la ejecución de todos los bloques de los que forma parte, o que están bajo el mismo bloque sombrero. Una vez ejecutado este bloque en un grupo de bloques, no se ejecutará nada más en ese grupo.</li>
</ul>
<p>En el ejemplo siguiente, el grupo de bloques de la derecha está en un bucle continuo que cuenta hacia atrás y decrementa su variable local <code>numero</code>. El grupo de bloques de la izquierda también está en un bucle continuo, contando hacia abajo y decrementando su variable local <code>numero</code>. Cuando la cuenta atrás alcanza el valor 7 se cumple la condición del <code>else if</code> y se detiene la cuenta del bloque derecho, mientras que la secuencia del bloque izquierdo continua su ejecución hasta que se cumpla la condición del <code>if</code> que será cuando se alcance el número 2, momento en que se detiene esta tarea.</p>
<p>Podemos comprobar como el último bloque <code>di</code> de la secuencia de la izquierda <strong>NUNCA</strong> se ejecuta porque una vez que el bloque 'deten esta tarea' se ejecuta, todas las actividades de este bloque izquierdo terminan.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/oper/B_deten_tar.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloques 'deten esta tarea' y 'deten las otras tareas'" src="../../img/guias/uB/oper/B_deten_tar.gif" /></a><br />
<em>Bloques 'deten esta tarea' y 'deten las otras tareas'</em><br />
<a href="../../program/uB/deten_tareas.ubp">Descargar el programa</a></p>
<p></center></p>
<h2 id="graficado-de-datos"><FONT COLOR=#007575><strong>Graficado de datos</strong></font><a class="headerlink" href="#graficado-de-datos" title="Permanent link">&para;</a></h2>
<p>En MicroBlocks es relativamente sencillo trabajar los datos de forma gráfica y para ello disponemos de un bloque para indicar el dato que queremos ver de manera gráfica y un icono en el menú que abre la ventana flotante 'Gráfico de datos'.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/graph/bloque_grafico.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque e icono para mostrar 'Gráfico de datos'" src="../../img/guias/uB/graph/bloque_grafico.png" /></a><br />
<em>Bloque e icono para mostrar 'Gráfico de datos'</em></p>
<p></center></p>
<h3 id="bloque"><FONT COLOR=#AA0000>Bloque</font><a class="headerlink" href="#bloque" title="Permanent link">&para;</a></h3>
<p>Está disponible en el menú 'Salida'.</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/graph/bloque.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/graph/bloque.png" /></a>. Graficará el valor introducido en el panel de visualización de gráficos de datos. Se puede graficar cualquier tipo de dato: números, valores de pines digitales y analógicos, salidas de sensores, etc. Si tenemos que representar gráficamente más de un dato, hacemos clic en el triángulo negro para mostrar campos de datos adicionales. Se pueden graficar hasta seis valores simultáneos con diferentes colores.</li>
</ul>
<p>La representación gráfica sólo es posible en el IDE. Por lo tanto, sólo es posible realizar gráficos mientras el microdispositivo está conectado al ordenador. Si intentamos realizar un gráfico mientras no está conectado al ordenador, aparecerá el mensaje "Placa no conectada".</p>
<h3 id="panel-grafico"><FONT COLOR=#AA0000>Panel gráfico</font><a class="headerlink" href="#panel-grafico" title="Permanent link">&para;</a></h3>
<p>Se activa desde el icono y tiene el siguiente aspecto:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/graph/panel.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Panel 'Gráfico de datos'" src="../../img/guias/uB/graph/panel.png" /></a><br />
<em>Panel 'Gráfico de datos'</em></p>
<p></center></p>
<p>El panel <strong>Gráficos de datos</strong> muestra los valores utilizados con el bloque de gráficos. El eje y del panel puede escalarse utilizando los controles de zoom del propio panel, y el eje x se desplazará lateralmente a medida que se grafiquen más datos.</p>
<p>La ventana de visualización del gráfico se puede redimensionar con el control situado en la esquina inferior derecha y puede colocarse en cualquier lugar de la ventana del IDE.</p>
<p>Tras el registro de cualquier dato, la ventana de visualización de gráficos puede cerrarse y abrirse, si es necesario, sin que se pierda ningún dato ni la imagen visualizada, aunque si pierde la reconfiguración realizada en la misma, como la posición del cero, el tamaño, etc. Además, es posible desconectar y volver a conectar el dispositivo en uso, sin perder los datos del gráfico.</p>
<p>En la animación vemos como funciona lo indicado. El escalado con la lupa del menos amplia el rango de valores del eje y, con la lupa del mas lo disminuye y la lupa del igual restaura la situación inicial tras el redimensionado de la ventana.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/graph/func_panel.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Funcionamiento de 'Gráfico de datos'" src="../../img/guias/uB/graph/func_panel.gif" /></a><br />
<em>Funcionamiento de 'Gráfico de datos'</em></p>
<p></center></p>
<h3 id="opciones-del-panel-grafico"><FONT COLOR=#AA0000>Opciones del panel gráfico</font><a class="headerlink" href="#opciones-del-panel-grafico" title="Permanent link">&para;</a></h3>
<p>Se accede haciendo clic con el botón derecho del ratón en cualquier zona del panel. Si tenemos el cursor del ratón sobre la zona de las lupas no funcionará.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/graph/opciones_panel.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Opciones de 'Gráfico de datos'" src="../../img/guias/uB/graph/opciones_panel.png" /></a><br />
<em>Opciones de 'Gráfico de datos'</em></p>
<p></center></p>
<p>El menú de opciones del gráfico permite controlar la visualización de los ejes, así como la importación/exportación de datos y el ajuste de la frecuencia de muestreo de datos.</p>
<ul>
<li><strong>limpiar gráfico</strong>. Borra cualquier gráfico de la ventana de visualización de datos.</li>
<li><strong>cero abajo</strong>. Sitúa el punto de origen del eje y en la parte inferior del área de visualización del gráfico.</li>
<li><strong>exportar datos a archivo CSV</strong>. Permite guardar los datos del gráfico en formato CSV. Se exportan los últimos diez mil (10000) valores.</li>
<li><strong>importar datos desde archivo CSV</strong>. Permite cargar datos CSV desde el ordenador en el que se está ejecutando MicroBlocks. Los datos importados se grafican y se muestran en el 'Gráfico de datos'. Es posible importar 10000 valores. Si tenemos mas de un dato para graficar, estos no se exportan individualmente sino todos juntos eparados por comas.</li>
<li><strong>copiar datos del gráfico al portapapeles</strong>. Se trata de una función avanzada que permite copiar en el portapapeles los últimos 10000 valores utilizados con el bloque gráfico.</li>
<li><strong>ajustar latencia del puerto serie</strong>. Se trata de otro función avanzada que permite establecer la frecuencia de muestreo de datos o latencia entre 1 y 20ms. Los números más bajos dan como resultado frecuencias de muestreo más altas.</li>
</ul>
<p>Los archivos CSV (del inglés Comma-Separated Values) son un tipo de documento no estandarizado que tiene la idea básica de separar los campos de datos por una coma, de ahí su nombre <a href="https://es.wikipedia.org/wiki/Valores_separados_por_comas">Valores separados por comas</a></p>
<p>Vamos a ver un ejemplo de uso en el que se muestran de forma gráfica una serie de números aleatorio. El programa y el gráfico son:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/graph/ejemplo.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de 'Gráfico de datos'" src="../../img/guias/uB/graph/ejemplo.gif" /></a><br />
<em>Ejemplo de 'Gráfico de datos'</em><br />
<a href="../../program/uB/grafico_aleatorios.ubp">Descargar el programa</a></p>
<p></center></p>
<h2 id="libreria-neopixeles"><FONT COLOR=#007575><strong>Libreria NeoPixeles</strong></font><a class="headerlink" href="#libreria-neopixeles" title="Permanent link">&para;</a></h2>
<p>Los NeoPixels son pequeños módulos LED que combinan LEDs rojos, verdes y azules montados en un solo encapsulado con un chip controlador. Los NeoPixels pueden ser controlados individualmente por una sola línea de datos desde un dispositivo microcontrolado para crear diferentes colores y patrones. Un solo pin del microcontrolador puede controlar docenas (o incluso cientos) de NeoPixels. Los NeoPixels se encuentran en muchas configuraciones diferentes, como son anillos, barras, matrices y tiras flexibles.</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/NeoP/b1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/NeoP/b1.png" /></a>. Configura el pin de conexión de los Neopixels. Este bloque configura un dispositivo NeoPixel especificando cuántos LEDs hay en el dispositivo y qué pin se utilizará para controlarlos. El bloque debe ejecutarse antes de hacer nada con cualquiera de los otros bloques NeoPixel.</li>
</ul>
<p>El bloque se expande a <a class="glightbox" href="../../img/guias/uB/NeoP/b2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/NeoP/b2.png" /></a> para el trabajo con Neopixels blancos.</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/NeoP/b3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/NeoP/b3.png" /></a>. Establece los colores de los diez primeros NeoPixels. Es especialmente útil cuando se utiliza con placas o tiras con este número de LEDs. La secuencia de numeración (1-10) es de izquierda a derecha y de arriba a abajo. La configuración del color se hace desde la paleta que se muestra sin poder establecer mayor precisión. La paleta muestra los valores RGB en decimal.</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/NeoP/b4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/NeoP/b4.png" /></a></p>
<p></center></p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/NeoP/b5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/NeoP/b5.png" /></a>. Apaga todos los LEDs. Los pone a color negro.</li>
<li><a class="glightbox" href="../../img/guias/uB/NeoP/b6.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/NeoP/b6.png" /></a>. Pone todos los LEDs con el color indicado.</li>
<li><a class="glightbox" href="../../img/guias/uB/NeoP/b7.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/NeoP/b7.png" /></a>. Pone el número de LED especificado del color indicado. Los LEDs se numeran secuencialmente comenzando por uno.</li>
<li><a class="glightbox" href="../../img/guias/uB/NeoP/b8.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/NeoP/b8.png" /></a>. Desplaza la secuencia de colores NeoPixel el número de NeoPixels indicado. Los colores al final de la secuencia se desplazan y se insertan al principio de la secuencia. Si los NeoPixels forman un círculo, los colores giran alrededor del círculo. El argumento determina el número de posiciones que se desplazan los colores. Un valor negativo hará que los NeoPixels roten en la dirección opuesta.</li>
<li><a class="glightbox" href="../../img/guias/uB/NeoP/b9.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/NeoP/b9.png" /></a>. Devuelve un color definido especificando los valores de rojo (R), verde (G) y azul (B) entre 0 y255. El bloque puede utilizarse en cualquier bloque que reciba una entrada de color. Los valores inferiores a 40 pueden provocar que el LED no se encienda nada.</li>
<li><a class="glightbox" href="../../img/guias/uB/NeoP/b10.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/NeoP/b10.png" /></a>. Devuelve un color aleatorio. El bloque puede utilizarse en cualquier bloque que reciba una entrada de color.</li>
</ul>
<p>El siguiente ejemplo muestra el uso básico de algunos de los bloques de esta libreria como complemento del manejo de los bloques de la libreria micro:STEAMakers relativos a la pantalla. Al ser LEDs RGB direccionables pueden ser tratados como una tira de 25 LEDs numerada desde el 1 al 25 empezando por la esquina superior izquierda y contando de izquierda a derecha de de arriba hacia abajo.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/NeoP/lib_neo_pix.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de 'Libreria NeoPixels'" src="../../img/guias/uB/NeoP/lib_neo_pix.gif" /></a><br />
<em>Ejemplo de 'Libreria NeoPixels'</em><br />
<a href="../../program/uB/lib_neo_pix.ubp">Descargar el programa</a></p>
<p></center></p>
<h2 id="mis-bloques"><FONT COLOR=#007575><strong>Mis bloques</strong></font><a class="headerlink" href="#mis-bloques" title="Permanent link">&para;</a></h2>
<p>Aprenderemos a crear nuestros propios bloques, o lo que es lo mismo, a definir nuestras propias funciones. Acceder a su cración es sencillo ya que están en el menú de la aplicación. Basta con hacer clic en el apartado de color azul claro y veremos los dos bloques disponibles. Haciendo clic en cualquiera de ellos se nos abre una pequeña ventana emergente para ponerle un nombre, que por defecto es MyBlock.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Mis bloques" src="../../img/guias/uB/mis_b/mis1.png" /></a><br />
<em>Mis bloques</em></p>
<p></center></p>
<p>Observamos que se pueden crear dos tipos de bloques:</p>
<ul>
<li><strong>de comando:</strong> <a class="glightbox" href="../../img/guias/uB/mis_b/b1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/mis_b/b1.png" /></a>. Este bloque es en realidad un botón y al hacer clic sobre el mismo se inicia el proceso de creación de un bloque personalizado (función).</li>
<li><strong>reportador:</strong> <a class="glightbox" href="../../img/guias/uB/mis_b/b2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/mis_b/b2.png" /></a>. Este bloque también es un botón. Inicia el proceso de creación de un bloque personalizado (función) que puede devolver un resultado. Junto con este bloque se suelen utilizar los bloques del menú "Control" que veremos mas abajo.</li>
</ul>
<h3 id="descripcion"><FONT COLOR=#AA0000>Descripción</font><a class="headerlink" href="#descripcion" title="Permanent link">&para;</a></h3>
<p>La principal diferencia entre el segundo y el primer bloque es que la definición del bloque personalizado que se cree en el segundo podrá devolver un valor mediante el bloque RETURN.</p>
<p>Esta capacidad única permitirá que el bloque personalizado se utilice en cualquier bloque en el que se espere un parámetro de entrada, y pasará el valor que informe a esa operación.</p>
<div class="admonition info">
<p class="admonition-title">En cuanto al uso del bloque RETURN:</p>
<ul>
<li>Cualquier bloque colocado después de él no será ejecutado.</li>
<li>Pueden existir múltiples bloques RETURN, manejando diferentes condiciones y devolviendo sus valores respectivos.</li>
</ul>
</div>
<p>La creación de un bloque personalizado es un proceso detallado con los siguientes pasos y opciones:</p>
<ul>
<li>Asignación de un nombre de bloque personalizado</li>
<li>Añadir parámetros y sus etiquetas</li>
<li>Modificación de los tipos de parámetros</li>
<li>Asignación de valores por defecto a los parámetros</li>
<li>Valores de color</li>
</ul>
<p>Los dos bloques citados de "Control" son los siguientes, que aunque de apariencia son idénticos, en realidad hay diferencias.</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/mis_b/b3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/mis_b/b3.png" /></a>.  Llama al bloque personalizado que se seleccione de la lista 'function name'. La lista de parámetros es opcional.</li>
<li><a class="glightbox" href="../../img/guias/uB/mis_b/b4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/mis_b/b4.png" /></a>.  Devuelve el resultado de la llamada del bloque personalizado que se seleccione de la lista 'function name'. La lista de parámetros es opcional.</li>
</ul>
<h3 id="operaciones-comunes"><FONT COLOR=#AA0000>Operaciones comunes</font><a class="headerlink" href="#operaciones-comunes" title="Permanent link">&para;</a></h3>
<p>Antes de examinar el proceso de creación de un nuevo bloque personalizado, repasemos algunas de las operaciones habituales disponibles al trabajar con una cabecera de bloque personalizada:</p>
<ul>
<li><strong><FONT COLOR=#0000FF>MODO DE EDICIÓN</font></strong></li>
</ul>
<p>Cuando se hace clic en la parte púrpura del bloque con sombrero "define" o en la parte azul claro del bloque personalizado con el nombre del bloque, se entra en modo edición. Este modo puede identificarse por el cambio de aspecto de los parámetros de la cabecera, así como por la aparición de los triángulos negros. En la animación siguiente vemos como crear, activar y desactivar la edición y como añadir y eliminar casillas o etiquetas en un bloque.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis2.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Crear un bloque" src="../../img/guias/uB/mis_b/mis2.gif" /></a><br />
<em>Crear un bloque</em></p>
<p></center></p>
<p>Cada parámetro añadido debe tener un nombre diferente que MicroBlocks asigna de manera automática pero que podemos cambiar según nuestros intereses simplemente haciendo clic sobre el bloque del nombre.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis3.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Cambios de nombre de parámetros y edición de un bloque" src="../../img/guias/uB/mis_b/mis3.gif" /></a><br />
<em>Cambios de nombre de parámetros y edición de un bloque</em></p>
<p></center></p>
<p>El triángulo negro de la derecha sirve para añadir parámetros y etiquetas, mientras que el de la izquierda sirve para borrarlos. Al hacer clic en el mismo, se eliminará el elemento situado más a la derecha (ya sea un parámetro o una etiqueta).</p>
<p>Si hay que borrar una etiqueta situada en el centro de la cabecera del bloque, basta con hacer doble clic para seleccionarla, dejarla vacia, y pulsar la tecla Supr.</p>
<ul>
<li><strong><FONT COLOR=#0000FF>RENOMBRAR PARÁMETROS Y ETIQUETAS</font></strong></li>
</ul>
<p>Para cambiar el nombre de una etiqueta de un bloque personalizado o de cualquier etiqueta de la cabecera, basta con hacer doble clic para seleccionarla y, a continuación, escribir un nuevo nombre. Dado que el nombre del bloque y las etiquetas son sólo campos de texto, es posible crear nombres con varias palabras separadas por espacios o caracteres de subrayado.</p>
<p>Si se utilizan espacios al crear el nombre de la etiqueta, el nombre de la etiqueta resultante se tratará como etiquetas sucesivas separadas. Aunque aparezcan una tras otra y se perciban como un nombre continuo, en realidad son etiquetas de texto individuales. Esto sólo es importante si va a editarlas posteriormente.</p>
<p>Si se utilizan caracteres de subrayado al crear el nombre de la etiqueta, el nombre de la etiqueta resultante se tratará como una sola etiqueta.</p>
<p>Por lo tanto, dependiendo de cuáles sean nuestras intenciones, puede que encontremos un método u otro más adecuado a nuestras necesidades.</p>
<p>Para cambiar el nombre de un parámetro, hacemos clic en el área ovalada marrón del parámetro y escribimos un nuevo nombre en la ventana de edición.</p>
<p>A continuación vemos el proceso para cambiar ambas etiquetas, el nombre del bloque y los parámetros.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis3b.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Cambios de nombres" src="../../img/guias/uB/mis_b/mis3b.gif" /></a><br />
<em>Cambios de nombres</em></p>
<p></center></p>
<ul>
<li><strong><FONT COLOR=#0000FF>MOSTRAR EL CONTENIDO DE UN BLOQUE PERSONALIZADO</font></strong></li>
</ul>
<p>Una vez creado un bloque personalizado y cerrada su cabecera y definición, este aparecerá automáticamente en el área de bloques de la categoría Mis bloques. Como el bloque recién creado reside en el área Mis bloques, se verá como el formato de control o bloque informador de su definición. Para ver realmente los bloques que componen la definición del bloque personalizado, debemos hacer clic derecho en el bloque y seleccionar "mostrar definición de bloque" en el menú.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Mostrar la definición de un bloque" src="../../img/guias/uB/mis_b/mis4.png" /></a><br />
<em>Mostrar la definición de un bloque</em></p>
<p></center></p>
<p>Al seleccionar esta opción, la definición del bloque personalizado aparecerá en el Área de trabajo, como apreciamos en la siguiente animación.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis5.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Mostrar la definición de un bloque" src="../../img/guias/uB/mis_b/mis5.gif" /></a><br />
<em>Mostrar la definición de un bloque</em></p>
<p></center></p>
<p>Si queremos borrar la definición de un bloque de la zona de programa basta con que lo arrastremos a la zona de menú, donde observaremos como aparece un ojo tachado en color gris (indicando ocultar) en lugar de la papelera habitual.</p>
<p>Para elminar completamente la definición del bloque hay que escoger la opción "elimina la definición del bloque"</p>
<ul>
<li><font size="5"><FONT COLOR=#0000FF><b><u>Proceso de creación de un bloque personalizado</u></b></font color></font size></li>
</ul>
<p><font size="3"><FONT COLOR=#006400><b>Asignar nombre al bloque</b></font color></font size></p>
<p>Al hacer clic en el botón añadir bloque, se abre un cuadro de diálogo en el que se introduce el nombre del bloque personalizado.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis6.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Creación de un bloque personalizado" src="../../img/guias/uB/mis_b/mis6.png" /></a><br />
<em>Creación de un bloque personalizado</em></p>
<p></center></p>
<p>Tras pulsar el botón "De acuerdo", se coloca una cabecera de definición de bloque personalizada en el área de programación.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis7.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque personalizado recien creado" src="../../img/guias/uB/mis_b/mis7.png" /></a><br />
<em>Bloque personalizado recien creado</em></p>
<p></center></p>
<p>Ahora todos los bloques de código que compondrán este bloque personalizado pueden colocarse bajo el bloque de cabecera, y formarán parte de la nueva función programada. Observe también que se ha colocado un nuevo bloque que representa la función personalizada en la ventana de categoría Mis Bloques con el nombre predeterminado de miBloque.</p>
<p>Aunque no siempre es un requisito, algunas funciones necesitarán parámetros para completar su funcionalidad programada. Éstos actuarán como entradas de la función y podrán ser utilizados por los bloques que componen el código de bloque personalizado.</p>
<p><font size="3"><FONT COLOR=#006400><b>Modificación de los tipos de parámetros</b></font color></font size></p>
<p>Cuando se añade un parámetro, MicroBlocks le asigna un nombre por defecto (foo, baz, etc) y un tipo por defecto (número/cadena).</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis8.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Tipos de parámetros" src="../../img/guias/uB/mis_b/mis8.png" /></a><br />
<em>Tipos de parámetros</em></p>
<p></center></p>
<p>Hay varios tipos de parámetros posibles: número/texto, booleano y color. Estos están disponibles para seleccionar en el menú que se abre al hacer clic en el triángulo negro que apunta hacia abajo en el bloque de parámetros oval marrón. Para los parámetros de tipo número/texto, es posible restringir sus tipos a sólo número o sólo texto. A continuación se expone un sencillo bloque que muestra datos de todos los tipos.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis9.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de tipos de parámetros" src="../../img/guias/uB/mis_b/mis9.png" /></a><br />
<em>Ejemplo de tipos de parámetros</em></p>
<p></center></p>
<p>Vemos que el nombre de la función parece <code>Datos Nombre</code>. De hecho, el nombre de la función es <code>Datos</code>, mientras que <code>Nombre</code> es el nombre del primer parámetro. Sin embargo, dado que MicroBlocks no permite la entrada de una etiqueta seguida de otra, ha sido necesario crear primero el parámetro <code>nombre</code>, seguido de un doble clic en el nombre de la función <code>Datos</code> y añadir " <code>Nombre</code>" (espacio <code>Nombre</code>) al final de la misma.</p>
<p>Esta técnica parece extraña, pero es totalmente correcta, ya que los nombres de función nunca se utilizan específicamente por sí solos como en un lenguaje de programación basado en texto. Los bloques personalizados, al igual que todos los demás, se arrastran y sueltan en el área de programación, independientemente de su nombre. No obstante, no debemos crear varios bloques personalizados en los que el nombre de la primera etiqueta sea idéntico. De hecho, <strong>NO</strong> podremos hacerlo, ya que MicroBlocks asignará un nombre numerado que lo hará único.</p>
<p><font size="3"><FONT COLOR=#006400><b>Asignar valores por defecto a los parámetros</b></font color></font size></p>
<p>Como se ve en la imágen anterior de definición de bloque personalizado, la vista final del bloque muestra valores para cada parámetro, "Juan", 55, true, y 16715550 para el color rojo. Estos valores se denominan valores por defecto y son los que hemos asignado al bloque en su cración y se pueden modificar en cualquier momento si los ponemos en modo edición.</p>
<ul>
<li><font size="5"><FONT COLOR=#0000FF><b><u>Interpretación del número que identifica al color</u></b></font color></font size></li>
</ul>
<p>Los valores por defecto de los tipos cadena, número y booleano se explican por sí mismos. Sin embargo, el tipo de color necesita alguna explicación mas. Vamos a utilizar el siguiente ejemplo para ello.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis9_1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Color como un número" src="../../img/guias/uB/mis_b/mis9_1.png" /></a><br />
<em>Color como un número</em></p>
<p></center></p>
<p>Como puede verse en la muestra de resultados los primeros corresponden a los valores en decimal de las variables R, G y B respectivamente, el valor del color magenta se obtiene del valor decimal 12398300. Analicemos estos valores y veamos qué representan.</p>
<p>Si cada uno de los tres valores decimales superiores se convierten a los equivalentes hexadecimales, se obtiene:</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Color (1,1)</th>
<th style="text-align: center;">Decimal</th>
<th style="text-align: center;">Hexadecimal</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">R</td>
<td style="text-align: center;">115</td>
<td style="text-align: center;">73</td>
</tr>
<tr>
<td style="text-align: center;">G</td>
<td style="text-align: center;">188</td>
<td style="text-align: center;">BC</td>
</tr>
<tr>
<td style="text-align: center;">B</td>
<td style="text-align: center;">180</td>
<td style="text-align: center;">B4</td>
</tr>
</tbody>
</table>
<p></center></p>
<p>Si llevamos esto a un programa que trabaje con colores RGB, como por ejemplo Inkscape, podemos ver como el color del pixel (1,1) es color verde claro.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis9a.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Color como un número" src="../../img/guias/uB/mis_b/mis9a.png" /></a><br />
<em>Color como un número</em></p>
<p></center></p>
<p>Podriamos colocar los tres valores hexadecimales RGB uno a continuación del otro en el orden RGB para obtener 0x73BCB4, y este número expresado en el sistema de numeración decimal es el 7584948.</p>
<p>El valor decimal 12398300 pasado a hexadecimal es BD2EDC que descompuesto corresponde R = BD (189), G = 2E (46) y B = DC (220), tal y como se refleja en la tabla siguiente:</p>
<p><center></p>
<table>
<thead>
<tr>
<th style="text-align: center;">Color (5,5)</th>
<th style="text-align: center;">Decimal</th>
<th style="text-align: center;">Hexadecimal</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: center;">R</td>
<td style="text-align: center;">189</td>
<td style="text-align: center;">BD</td>
</tr>
<tr>
<td style="text-align: center;">G</td>
<td style="text-align: center;">46</td>
<td style="text-align: center;">2E</td>
</tr>
<tr>
<td style="text-align: center;">B</td>
<td style="text-align: center;">220</td>
<td style="text-align: center;">DC</td>
</tr>
</tbody>
</table>
<p></center></p>
<p>Si llevamos esto a un programa que trabaje con colores RGB, como por ejemplo Inkscape, podemos ver como el color del pixel (5,5) es color magenta claro.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis9b.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Color como un número" src="../../img/guias/uB/mis_b/mis9b.png" /></a><br />
<em>Color como un número</em></p>
<p></center></p>
<ul>
<li><font size="5"><FONT COLOR=#0000FF><b><u>Ejemplo de creación de bloque personalizado</u></b></font color></font size></li>
</ul>
<p>Vamos a definir algunos de ellos mediante Mis Bloques. Creamos los siguientes (aunque ya existen en otro bloque):</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis11.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Creación de bloques para iconos" src="../../img/guias/uB/mis_b/mis11.png" /></a><br />
<em>Creación de bloques para iconos</em></p>
<p></center></p>
<p>El uso de estos bloques lo vemos a continuación:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis12.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Uso de bloques personalizados" src="../../img/guias/uB/mis_b/mis12.gif" /></a><br />
<em>Uso de bloques personalizados</em><br />
<a href="../../program/uB/bloques_iconos.ubp">Descargar programa</a></p>
<p></center></p>
<p>En el programa está la definición de los bloques.</p>
<p>En la imagen siguiente tenemos un sencillo ejemplo de uso de función con retorno de valor mediante bloque reportador.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/mis_b/mis13.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Función con retorno de valor" src="../../img/guias/uB/mis_b/mis13.png" /></a><br />
<em>Función con retorno de valor</em><br />
<a href="../../program/uB/multiplicador.ubp">Descargar programa</a></p>
<p></center></p>
<h2 id="sonidos"><FONT COLOR=#007575><strong>Sonidos</strong></font><a class="headerlink" href="#sonidos" title="Permanent link">&para;</a></h2>
<p>En MicroBlocks tenemos tres opciones de reproducción de sonidos o música, un conjunto de librerías englobadas bajo el seudónimo "Sonido", una librería de "Politonos" y otra librería de "Tonos". En "Sonido" nos encontraremos bloques "MultiTone", opciones para reproducir mp3 o WAV, radio AM, etc. No veremos estas librerías por el momento y nos centraremos en "Tonos" y "Politonos".</p>
<p>La libreria micro:STEAMakers dispone de dos bloques relacionados con el sonido. Estos son:</p>
<ul>
<li><strong>start m:STEAMakers audio</strong>. Bloque para definir la conexión del buzzer o altavoz e inicializar las variables internas tone a verdaderas. Este bloque debe ejecutarse al menos una vez para que los bloques de <code>Tonos</code> y <code>Politonos</code> sean funcionales. El bloque es:</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/altavoz.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque start m:STEAMakers audio" src="../../img/guias/uB/sonido/altavoz.png" /></a>.<br />
<em>Bloque start m:STEAMakers audio</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/scriptImage12073901.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque start m:STEAMakers audio" src="../../img/guias/uB/sonido/scriptImage12073901.png" /></a>.<br />
<em>Definición del bloque start m:STEAMakers audio</em></p>
<p></center></p>
<ul>
<li><strong>m:s sound %</strong>. Bloque de lectura del nivel de sonido percibido por el micrófono de la placa expresado en tanto por ciento. El bloque es:</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/micro.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s sound %" src="../../img/guias/uB/sonido/micro.png" /></a>.<br />
<em>Bloque m:s sound %</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/scriptImage12360654.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s sound %" src="../../img/guias/uB/sonido/scriptImage12360654.png" /></a>.<br />
<em>Definición del bloque m:s sound %</em></p>
<p></center></p>
<h3 id="tonos"><FONT COLOR=#AA0000>Tonos</font><a class="headerlink" href="#tonos" title="Permanent link">&para;</a></h3>
<p>Añadimos la libreria "<strong>Tonos</strong>" a nuestro entorno y nos encontramos con los siguientes bloques:</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/sonido/Btonos1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/sonido/Btonos1.png" /></a>. Reproduce la nota y la octava y por el tiempo indicados.</li>
<li><a class="glightbox" href="../../img/guias/uB/sonido/Btonos2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/sonido/Btonos2.png" /></a>. Reproduce la nota indicada por el número de tecla en el teclado del piano (0-127) donde el Do central es 60. Este bloque es útil cuando se realizan transformaciones matemáticas de la música. MIDI es la abreviatura de "Musical Instrument Digital Interface", que se traduce como "Interfaz digital de instrumentos musicales", y es un estándar de la industria para controlar sintetizadores, cajas de ritmos y otros dispositivos musicales electrónicos.</li>
<li><a class="glightbox" href="../../img/guias/uB/sonido/Btonos3.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/sonido/Btonos3.png" /></a>. Reproduce la nota especificada en Hertz (Hz) durante el tiempo indicado.</li>
<li><a class="glightbox" href="../../img/guias/uB/sonido/Btonos4.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/sonido/Btonos4.png" /></a>. Reproduce el tono indicado en Hz.</li>
<li><a class="glightbox" href="../../img/guias/uB/sonido/Btonos5.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/sonido/Btonos5.png" /></a>. Detiene la reproducción del tono actual.</li>
<li><a class="glightbox" href="../../img/guias/uB/sonido/Btonos6.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/sonido/Btonos6.png" /></a>. Especifica el pin al que está conectado un zumbador piezoeléctrico o unos auriculares. En placas con altavoces integrados, se utilizará el altavoz integrado si se omite este bloque.</li>
</ul>
<p>Veamos un ejemplo en el que se utilizan los bloques <strong>start m:STEAMakers audio</strong> y <strong>m:s sound %</strong> junto con bloques de la libreria <code>Tonos</code>. El ejmplo simplemente emite distintos tonos por el altavoz y enciende el LED central de un color que dependerá del nivel de sonido detectado por el micrófono.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/basico_sonido.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo básico de sonido" src="../../img/guias/uB/sonido/basico_sonido.gif" /></a><br />
<em>Ejemplo básico de sonido</em><br />
<a href="../../program/uB/basico_sonido.ubp">Descargar programa</a></p>
<p></center></p>
<h3 id="politonos"><FONT COLOR=#AA0000>Politonos</font><a class="headerlink" href="#politonos" title="Permanent link">&para;</a></h3>
<p>El formato <a href="https://en.wikipedia.org/wiki/Ring_Tone_Text_Transfer_Language">RTTTL</a> (del inglés, Ring Tone Text Transfer Language) fue desarrollado por Nokia para codificar tonos de llamada a teléfonos móviles. El formato RTTTL es una cadena dividida en tres secciones: encabezado (nombre o título), valor predeterminado y datos. Por ejemplo, la siguiente cadena de texto se corresponde con la Intro de Donkey Kong:</p>
<p><em>d=4,o=5,b=140:8a#,8p,8d6,16p,16f.6,16g.6,16f.6,8a#,8p,8d6,16p,16f.6,16g.6,<br>16f.6,8a#,8p,8d6,16p,16f.6,16g.6,16f.6,8a#,8p,8d6,16p,16f.6,16g.6,16f.6</em></br></p>
<p>Añadimos la libreria "<strong>Politonos</strong>" a nuestro entorno y nos encontramos con los siguientes bloques:</p>
<ul>
<li><a class="glightbox" href="../../img/guias/uB/sonido/BPolitonos1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/sonido/BPolitonos1.png" /></a>. Reproduce la cadena de tono de llamada indicada.</li>
<li><a class="glightbox" href="../../img/guias/uB/sonido/BPolitonos2.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/uB/sonido/BPolitonos2.png" /></a>. Devuelve el nombre del tono de llamada que se está reproduciendo actualmente.</li>
</ul>
<p>Para reproducir una melodia simplemente la copiamos en el bloque <code>toca el politono</code>.</p>
<p>Existen páginas de donde se pueden descargar tonos, o incluso podemos hacerlo nosotros mismos. A continuación ponemos algunos enlaces:</p>
<ul>
<li><a href="https://picaxe.com/rtttl-ringtones-for-tune-command/">RTTTL Ringtone Downloads</a> de Picaxe.</li>
<li>Colecciones de <a href="http://arcadetones.emuunlim.com/">ArcadeTones</a> clasificados por temas.</li>
<li>Archivo <a href="http://microblocks.fun/mbtest/NokringTunes.txt">NokringTunes.txt</a> que contiene más de once mil melodías en formato Nokring. </li>
</ul>
<p>Una vez descargado lo abrimos y buscamos la melodia para copiar y pegar en el bloque.</p>
<p><font size="5"><FONT COLOR=#0000FF><b><u>Información complementaria</u></b></font color></font size></p>
<p>Ya hemos visto como añadir la librería politonos, enlaces para obtenerlos y el uso de los mismos en MicroBlocks, pero vamos a profundizar un poco mas sobre el tema.</p>
<p>El formato RTTTL es una cadena dividia en tres partes: nombre, valor por defecto y datos.</p>
<ul>
<li><strong>nombre</strong>. Es una cadena que describe el nombre del tono de llamada. En principio su longitud máxima es de 10 caracteres y no puede contener el signo de dos puntos (:).</li>
<li><strong>valor por defecto</strong>. Lo forman un conjunto de valores separados por comas que son los que deben cumplirse durane la ejecución del tono de llamada. Cada valor es una clave a la que se asigna con una igualdad un valor, siendo los nombre posibles: <strong>D</strong> (duración), <strong>o</strong> (octava) y <strong>B</strong> (ritmo o tempo)</li>
<li><strong>datos</strong>. Es un conjunto de cadenas de caracteres separadas por comas, estando cada cadena formada por una <em>duración</em>, un <em>tono</em>, una <em>octava</em> y opcionalmente <em>puntos</em> que aumentan la duración de la nota a la mitad.</li>
</ul>
<p>Un ejemplo de tono RTTTL puede ser:</p>
<p><code>Abba - Money Money Money: d=4,o=5,b=112:8e7,8e7,8e7,8e7,8e7,8e7,16e6,16a6,16c7,16e7,8d#7,8d#7,8d#7,8d#7,8d#7,8d#7,16f6,16a6,16c7,16d#7,d7,8c7,8a6,8c7,c7,2a6,32a6,32c7,32e7,8a7</code></p>
<p>donde se pueden distinguir facilmente las tres partes separadas por dos puntos (:):</p>
<ul>
<li><strong>nombre</strong>. Abba - Money Money Money.</li>
<li><strong>valor por defecto</strong>. d=4,o=5,b=112 (d = duración; o = octava y b = tempo o ritmo). Mas adelante se describen mejor estos conceptos.</li>
<li><strong>datos</strong>. Las notas separadas por comas y formadas por una duración, una nota [a (La), b (Si), c (Do), d (Re), e (Mi), f (Fa) o g (Sol)] y la indicación de la octava, que si no se indica se aplica el valor predeterminado.</li>
</ul>
<p>La duración de las notas es:</p>
<ul>
<li><strong>1</strong> - nota entera</li>
<li><strong>2</strong> - media nota</li>
<li><strong>4</strong> - cuarto de nota</li>
<li><strong>8</strong> - octavo de nota (octava)</li>
<li><strong>16</strong> - dieciseisavo de nota</li>
<li><strong>32</strong> - treintaidosavo de nota</li>
</ul>
<p>Los tonos pueden ser:</p>
<ul>
<li><strong>P</strong> – descanso o pausa</li>
<li><strong>A</strong> – A (La)</li>
<li><strong>A#</strong> – A♯ B♭ (La#/Si♭)</li>
<li><strong>B</strong> – B/C♭ (Si/Do♭)</li>
<li><strong>C</strong> – C (Do)</li>
<li><strong>C#</strong> – C♯/D♭ (Do♯/Re♭)</li>
<li><strong>D</strong> – D (Re)</li>
<li><strong>D#</strong> – D♯/E♭ (Re♯/Mi♭)</li>
<li><strong>E</strong> – E/F♭ (Mi/Fa♭)</li>
<li><strong>F</strong> – F/E♯ (Fa/Mi♯)</li>
<li><strong>F#</strong> – F♯/G♭ (Fa♯/Sol♭)</li>
<li><strong>G</strong> – G (Sol)</li>
<li><strong>G#</strong> – G♯/A♭ (Sol♯/La♭)</li>
</ul>
<p>En el formato RTTTL se permiten octavas comenzando desde la A por debajo del do medio y subiendo cuatro octavas. Esto se debe a la imposibilidad de los teléfonos móviles para reproducir ciertos tonos de forma audible. Las octavas están numeradas desde el tono
más bajo hasta el tono más alto de 4 a 7. La octava debe dejarse fuera de la notación en el caso de un descanso o pausa en el patrón.</p>
<p>En el ejemplo siguiente suena un politono u otro dependiendo del botón que pulsemos en la micro:STEAMakers.
<center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/ejem_politonos.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo básico de politonos" src="../../img/guias/uB/sonido/ejem_politonos.png" /></a><br />
<em>Ejemplo básico de politonos</em><br />
<a href="../../program/uB/ejem_politonos.ubp">Descargar programa</a></p>
<p></center></p>
<h3 id="abrir-archivos-de-sonido-o-musica"><FONT COLOR=#AA0000>Abrir archivos de Sonido o música</font><a class="headerlink" href="#abrir-archivos-de-sonido-o-musica" title="Permanent link">&para;</a></h3>
<p>En MicroBlocks tenemos disponibles una serie de ejemplos resueltos a los que se puede acceder desde el menú "Fichero" escogiendo la opción "Abre" y dirigiendonos a la carpeta ejemplos, si no estamos ya en ella.</p>
<div class="admonition info">
<p class="admonition-title"><strong>ADVERTENCIA</strong></p>
<p>Los ejemplos están desarrollados para micro:bit por lo que para hacer que funcionen hay que realizar ciertas adaptaciones de los mismos.</p>
<p>Veremos solamente algunos de ellos.</p>
</div>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/ej_music.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplos de música y sonido en MicroBlocks" src="../../img/guias/uB/sonido/ej_music.png" /></a><br />
<em>Ejemplos de música y sonido en MicroBlocks</em></p>
<p></center></p>
<p>Podemos abrir cualquiera de los ejemplos de los directorios indicados. En el directorio "Sonido" basicamente hay diferentes ejemplos que trabajan con sonidos y vamos a abrir SoundLevel, que es un programa que simula vúmetros sencillos con la pantalla y/o tiras de LEDs. El programa, como hemos dicho está pensado para micro:bit y, tal cual lo cargamos, no funcionará en la micro:STEAMakers. El programa original lo vemos en la imagen siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/SoundLevel_orig.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de nivel de sonido" src="../../img/guias/uB/sonido/SoundLevel_orig.png" /></a><br />
<em>Ejemplo de nivel de sonido con los dos programas que lo forman</em></p>
<p></center></p>
<p>En la imagen siguiente podemos ver las modificaciones realizadas para hacer que el ejemplo funcione. Se han dejado sacadas de los bloques funcionales los que venian en el original y se han colocado los nuevos bloques.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/SoundLevel_modif.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de nivel de sonido modificado" src="../../img/guias/uB/sonido/SoundLevel_modif.png" /></a><br />
<em>Ejemplo de nivel de sonido modificado con los dos programas que lo forman</em><br />
<a href="../../program/uB/SoundLevel_modif.ubp">Descargar programa</a></p>
<p></center></p>
<p>La imagen siguiente, en formato svg, es una comparativa entre el antes y el después del programa.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/compara.svg" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Comparativa ejemplo de nivel de sonido" src="../../img/guias/uB/sonido/compara.svg" /></a><br />
<em>Comparativa ejemplo de nivel de sonido</em><br />
<strong>Clic sobre la imagen para agrandar</strong></p>
<p></center></p>
<p>En el directorio "Music" hay varios ejemplos en los que se utilizan bloques propios. En la figura vemos el ejemplo HarryPotter mostrando la definición de uno de los bloques.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/ej_harrypotter_orig.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de sonido HarryPotter original" src="../../img/guias/uB/sonido/ej_harrypotter_orig.png" /></a><br />
<em>Ejemplo de sonido HarryPotter original</em></p>
<p></center></p>
<p>El programa modificado lo tenemos a continuación. En este caso solamente hay que añadir el bloque de inicializar audio de la libreria micro:STEAMakers.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/ej_harrypotter_modif.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de sonido HarryPotter modificado" src="../../img/guias/uB/sonido/ej_harrypotter_modif.png" /></a><br />
<em>Ejemplo de sonido HarryPotter modificado</em><br />
<a href="../../program/uB/ej_harrypotter_modif.ubp">Descargar programa</a></p>
<p></center></p>
<p>A simple vista se aprecia la utilidad de las funciones para simplificar el código y hacer mas sencilla la depuración del mismo.</p>
<p>Otro ejemplo con todos los bloques desplegados lo vemos para el caso de Bach Bouree, que se corresponden con la pieza musical integrada como quinto movimiento en la Suite en Mi menor para Laúd BWV 996 Bourrée en mi menor compuesta por Johann Sebastian Bach. En la imagen siguiente vemos el archivo orginal.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/ej_bach.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de sonido Bach Bouree" src="../../img/guias/uB/sonido/ej_bach.png" /></a><br />
<em>Ejemplo de sonido Bach Bouree</em></p>
<p></center></p>
<p>El programa sin los bloques expandidos, con la inicialización del audio y sin los comentarios es tan simple como:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/sonido/ej_bach1.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de sonido Bach Bouree" src="../../img/guias/uB/sonido/ej_bach1.png" /></a><br />
<em>Ejemplo de sonido Bach Bouree</em></p>
<p></center></p>
<h2 id="sensor-de-temperatura-y-humedad"><FONT COLOR=#007575><strong>Sensor de temperatura y humedad</strong></font><a class="headerlink" href="#sensor-de-temperatura-y-humedad" title="Permanent link">&para;</a></h2>
<p>La micro:STEAMakers incorpora un sensor de temperatura y humedad AHT20 y en MicroBlocks se han contemplado dos bloques que nos devuelven sus lecturas. Estos bloques son:</p>
<ul>
<li><strong>m:s temperatura ºC</strong> El bloque devuelve la temperatura medida por el sensor expresada en ºC. El aspecto del bloque es:</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_temp.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s temperatura ºC" src="../../img/guias/uB/B_temp.png" /></a>.<br />
<em>Bloque m:s temperatura ºC %</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage1338604.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s temperatura ºC" src="../../img/guias/uB/scriptImage1338604.png" /></a>.<br />
<em>Definición del bloque m:s temperatura ºC</em></p>
<p></center></p>
<ul>
<li><strong>m:s temperatura ºC</strong> El bloque devuelve la humedad medida por el sensor expresada en porcentaje. El aspecto del bloque es:</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_hum.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s humidity %" src="../../img/guias/uB/B_hum.png" /></a>.<br />
<em>Bloque m:s humidity %</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage1561264.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s humidity %" src="../../img/guias/uB/scriptImage1561264.png" /></a>.<br />
<em>Definición del bloque m:s humidity %</em></p>
<p></center></p>
<p>El siguiente ejemplo muestra el uso de estos bloques.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/ej_temp_hum.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de uso de m:s temperature y m:s humidity" src="../../img/guias/uB/ej_temp_hum.gif" /></a><br />
<em>Ejemplo de uso de m:s temperature y m:s humidity</em><br />
<a href="../../program/uB/ej_temp_hum.ubp">Descargar programa</a></p>
<p></center></p>
<h2 id="acelerometro-y-giroscopio"><FONT COLOR=#007575><strong>Acelerómetro y giroscopio</strong></font><a class="headerlink" href="#acelerometro-y-giroscopio" title="Permanent link">&para;</a></h2>
<p>La micro:STEAMakers incorpora un giroscopio acelerometro de seis ejes MPU6050 con Velocidad máxima de rotación de 2000°/s y un Rango de aceleración de ±2g，±4g，±8g，±16g. Hemos visto detalles sobre el mismo en el apartado <a href="http://127.0.0.1:8000/....https://fgcoca.github.io/ESP32-micro-STEAMakers/giroscopio/">Acelerómetro + giroscopio</a>.</p>
<p>MicroBlocks nos da dos bloques en la libreria micro:STEAMakers para trabajar con el mismo:</p>
<ul>
<li><strong>m:s accel m/s2</strong>. Nos devuelve la aceleración respecto al eje escogido medida en m/s2. El aspecto del bloque es:</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_acel.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s accel m/s2" src="../../img/guias/uB/B_acel.png" /></a>.<br />
<em>Bloque m:s accel m/s2</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage876686.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s accel m/s2" src="../../img/guias/uB/scriptImage876686.png" /></a>.<br />
<em>Definición del bloque m:s accel m/s2</em></p>
<p></center></p>
<p>El siguiente ejemplo muestra la captura de un programa que hace uso de este bloque.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/ej_acel.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de uso de m:s accel m/s2" src="../../img/guias/uB/ej_acel.png" /></a><br />
<em>Ejemplo de uso de m:s accel m/s2</em><br />
<a href="../../program/uB/ej_acel.ubp">Descargar programa</a></p>
<p></center></p>
<ul>
<li><strong>m:s gyro deg/s</strong>. Nos devuelve la velocidad angular respecto al eje escogido medida en deg/s. El aspecto del bloque es:</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_gyro.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s gyro deg/s" src="../../img/guias/uB/B_gyro.png" /></a>.<br />
<em>Bloque m:s gyro deg/s</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage1116827.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s gyro deg/s" src="../../img/guias/uB/scriptImage1116827.png" /></a>.<br />
<em>Definición del bloque gyro deg/s</em></p>
<p></center></p>
<p>El siguiente ejemplo muestra la captura de un programa que hace uso de este bloque.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/ej_gyro.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de uso de m:s gyro deg/s" src="../../img/guias/uB/ej_gyro.png" /></a><br />
<em>Ejemplo de uso de m:s gyro deg/s</em><br />
<a href="../../program/uB/ej_gyro.ubp">Descargar programa</a></p>
<p></center></p>
<ul>
<li><strong>m:s inclination towards</strong>. Nos devuelve la inclinación respecto al eje escogido medida en grados. El aspecto del bloque es:</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_incli.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s inclination towards" src="../../img/guias/uB/B_incli.png" /></a>.<br />
<em>Bloque m:s inclination towards</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage1549983.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s inclination towards" src="../../img/guias/uB/scriptImage1549983.png" /></a>.<br />
<em>Definición del bloque inclination towards</em></p>
<p></center></p>
<p>El siguiente ejemplo muestra la captura de un programa que hace uso de este bloque.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/ej_incli.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de uso de m:s inclination towards" src="../../img/guias/uB/ej_incli.png" /></a><br />
<em>Ejemplo de uso de m:s inclination towards</em><br />
<a href="../../program/uB/ej_incli.ubp">Descargar programa</a></p>
<p></center></p>
<h2 id="sensor-de-energia"><FONT COLOR=#007575><strong>Sensor de energia</strong></font><a class="headerlink" href="#sensor-de-energia" title="Permanent link">&para;</a></h2>
<p>La micro:STEAMakers incorpora un circuito integrado con encapsulado SOT-23 de 5 pines que es un monitor de corriente, tensión y potencia. Esto nos permite trabajar con valores de energia a partir de los bloques que incorpora MicroBlocks, que son:</p>
<ul>
<li><strong>m:s energy</strong>. El bloque devuelve el parámetro que indica la unidad seleccionada, es decir: corriente en mA, tensión en mV o potencia en mW. El aspecto del bloque es:</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_energy.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s energy" src="../../img/guias/uB/B_energy.png" /></a>.<br />
<em>Bloque m:s energy</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage4950362.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s energy" src="../../img/guias/uB/scriptImage4950362.png" /></a>.<br />
<em>Definición del bloque energy</em></p>
<p></center></p>
<ul>
<li><strong>m:s <code>estado</code> energy meter</strong>.  Bloque que permite poner en marcha (aaranca), detener (detén) o reiniciar (reset) la monitorización del consumo energético que se está produciendo en la placa micro:STEAMakers. El aspecto del bloque es:</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_energy_meter.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s estado energy meter" src="../../img/guias/uB/B_energy_meter.png" /></a>.<br />
<em>Bloque m:s <code>estado</code> energy meter</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage5316386.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s estado energy meter" src="../../img/guias/uB/scriptImage5316386.png" /></a>.<br />
<em>Definición del bloque <code>estado</code> energy meter</em></p>
<p></center></p>
<ul>
<li><strong>m:s energy consumption (<span class="arithmatex">\(\mu Wh\)</span>)</strong>.  El bloque devuelve el consumo energético en <span class="arithmatex">\(\mu Wh\)</span> que se produce desde el momento en que se arranca el medidor (bloque anterior) hasta que se detiene o se resetea. El aspecto del bloque es:</li>
</ul>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/B_energy_consum.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Bloque m:s energy consumption (\(\mu Wh\))" src="../../img/guias/uB/B_energy_consum.png" /></a>.<br />
<em>Bloque m:s energy consumption (<span class="arithmatex">\(\mu Wh\)</span>)</em></p>
<p></center></p>
<p>La definición del bloque es la siguiente:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/scriptImage5700751.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Definición del bloque m:s energy consumption (\(\mu Wh\))" src="../../img/guias/uB/scriptImage5700751.png" /></a>.<br />
<em>Definición del bloque energy consumption (<span class="arithmatex">\(\mu Wh\)</span>)</em></p>
<p></center></p>
<p>El siguiente ejemplo muestra un programa que hace uso de estos bloques. En la animación podemos apreciar como el consumo energético no retorna un valor distinto de cero hasta que no se pone en marcha el medidor. Se ha incluido un cálculo de la potencia en mW a partir de las medidas de tensión y corriente.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/ej_energia.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo de uso de m:s energy consumption (\(\mu Wh\))" src="../../img/guias/uB/ej_energia.gif" /></a><br />
<em>Ejemplo de uso de m:s energy consumption (<span class="arithmatex">\(\mu Wh\)</span>)</em><br />
<a href="../../program/uB/ej_energia.ubp">Descargar programa</a></p>
<p></center></p>
<h2 id="libreria-ble-scanner"><FONT COLOR=#007575><strong>Libreria BLE Scanner</strong></font><a class="headerlink" href="#libreria-ble-scanner" title="Permanent link">&para;</a></h2>
<p>Vamos a describir los bloques de la libreria para finalmente ver un ejemplo de uso.</p>
<h3 id="scan-received"><FONT COLOR=#AA0000>scan received</font><a class="headerlink" href="#scan-received" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../../img/guias/wifi/scriptImage32272456.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/wifi/scriptImage32272456.png" /></a></p>
<p>Este bloque se utiliza para detectar avisos BLE. Cuando se detecta una exploración, la variable interna <a class="glightbox" href="../../img/guias/wifi/scriptImage33350812.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/wifi/scriptImage33350812.png" /></a> se rellena con toda la información BLE relevante. Todos los demás bloques de la biblioteca extraen partes de la información BLE del contenido de esta variable.</p>
<h3 id="rssi"><FONT COLOR=#AA0000>RSSI</font><a class="headerlink" href="#rssi" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../../img/guias/wifi/scriptImage32423878.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/wifi/scriptImage32423878.png" /></a></p>
<p>RSSI son las siglas en inglés de Indicador de Intensidad de Señal Recibida. Es la intensidad de la señal tal y como se ve en el dispositivo receptor, por ejemplo, un smartphone. La intensidad de la señal depende de la distancia y del valor de la potencia de emisión. Con la máxima potencia de emisión (+4 dBm), el RSSI oscila entre -26 (unos pocos centímetros) y -100 (40-50 m de distancia). 
Esta información puede utilizarse para calcular la distancia entre el dispositivo emisor y el dispositivo receptor. Un ejemplo de ello puede verse en la imagen <a href="http://127.0.0.1:8000/....https://fgcoca.github.io/ESP32-micro-STEAMakers/guiamb/mblocks/#libreria-ble-scanner">Dispositivos emparejados y resultado BLE Scanner de la sección "Libreria BLE Scanner" del apartado "Guía de MicroBlocks"</a>, donde la aplicación BLE Scanner muestra las distancias reales de los dispositivos detectados.</p>
<h3 id="address"><FONT COLOR=#AA0000>address</font><a class="headerlink" href="#address" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../../img/guias/wifi/scriptImage32449378.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/wifi/scriptImage32449378.png" /></a>
Una dirección Bluetooth, a veces denominada dirección MAC Bluetooth, es un valor de 48 bits que identifica de forma exclusiva un dispositivo Bluetooth.</p>
<p>Una dirección pública de dispositivo es un identificador único global de 48 bits, que consta de dos campos:</p>
<ul>
<li>Los 24 bits más significativos se denominan Identificador Único Organizativo, y su finalidad es identificar a cada empresa. Es administrado por la Autoridad de Registro del IEEE.</li>
<li>Los 24 bits menos significativos son asignados por la empresa, y sirven para identificar cada dispositivo.</li>
</ul>
<h3 id="address-type"><FONT COLOR=#AA0000>address type</font><a class="headerlink" href="#address-type" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../../img/guias/wifi/scriptImage32470747.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/wifi/scriptImage32470747.png" /></a></p>
<p>Existen dos tipos principales de direcciones Bluetooth: <strong>públicas</strong> y <strong>aleatorias</strong>.</p>
<p>Una <strong>dirección pública Bluetooth</strong> es una dirección fija global que debe registrarse en el IEEE. Esta dirección nunca cambia y se garantiza que es única para un dispositivo Bluetooth.</p>
<p>Las <strong>direcciones aleatorias</strong> son más populares que las públicas, ya que no requieren registro en el IEEE. Una dirección aleatoria es un identificador que está</p>
<ul>
<li>programado en el dispositivo o</li>
<li>generado en tiempo de ejecución (dependiendo del subtipo).</li>
</ul>
<p>Dirección estática aleatoria</p>
<p>Este tipo específico de dirección Bluetooth es una alternativa popular a las direcciones públicas, ya que su uso no conlleva ningún coste.</p>
<p>Las direcciones estáticas aleatorias pueden utilizarse de dos maneras:</p>
<ul>
<li>Puede ser asignada y fijada para toda la vida del dispositivo.</li>
<li>Puede cambiarse en el arranque. Sin embargo, no se puede cambiar durante el tiempo de ejecución.</li>
</ul>
<p>Una Dirección de Dispositivo Aleatoria es una característica de privacidad del protocolo BLE, y ayuda a prevenir el rastreo de un dispositivo.</p>
<h3 id="device-name"><FONT COLOR=#AA0000>device name</font><a class="headerlink" href="#device-name" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../../img/guias/wifi/scriptImage32492045.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/wifi/scriptImage32492045.png" /></a></p>
<p>Dado que sería bastante difícil para un usuario identificar un dispositivo utilizando sólo su dirección, BLE proporciona la propiedad <em>Nombre de dispositivo</em>, que es un nombre amigable utilizado para etiquetar un dispositivo.</p>
<p>Las especificaciones BLE definen el nombre del dispositivo como un campo de 20 bytes. Sin embargo, debido a las limitaciones de longitud de los paquetes, a menudo puede ser necesario utilizar un nombre más corto.</p>
<p>Existen dos tipos de nombre para BLE:</p>
<ul>
<li>Nombre local completo: tipo 9</li>
<li>Nombre local abreviado: tipo 8</li>
</ul>
<h3 id="hastype"><FONT COLOR=#AA0000>hasType</font><a class="headerlink" href="#hastype" title="Permanent link">&para;</a></h3>
<p><a class="glightbox" href="../../img/guias/wifi/scriptImage32509117.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="" src="../../img/guias/wifi/scriptImage32509117.png" /></a></p>
<p>Este bloque se utiliza internamente para escanear el paquete BLE y ver si contiene un nombre del tipo deseado.</p>
<h3 id="ejemplo"><FONT COLOR=#AA0000>Ejemplo</font><a class="headerlink" href="#ejemplo" title="Permanent link">&para;</a></h3>
<p>Este programa está basado en el programa de ejemplo proporcionado en el Fichero/Abre/Ejemplos/Red/BLE Scanner Demo. Se ha mejorado para mostrar toda la información encontrada, así como una lista de todos los dispositivos detectados al final.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/BLE_Scanner_Demo.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Ejemplo BLE Scanner Demo mejorado" src="../../img/guias/uB/BLE_Scanner_Demo.png" /></a><br />
<em>Ejemplo BLE Scanner Demo mejorado</em><br />
<a href="../program/uB/BLE_Scanner_Demo.ubp">Descargar programa</a></p>
<p></center></p>
<h2 id="comunicacion-ble-bidireccional-basica"><FONT COLOR=#007575><strong>Comunicación BLE bidireccional básica</strong></font><a class="headerlink" href="#comunicacion-ble-bidireccional-basica" title="Permanent link">&para;</a></h2>
<p>Veamos algunos ejemplos de uso de Bluetooth para comunicarnos con la placa desde un móvil. Utilizaremos la APP <a href="http://127.0.0.1:8000/....https://fgcoca.github.io/ESP32-micro-STEAMakers/bt/#serial-bluetooth-terminal">Serial Bluetooth Terminal</a> vista.</p>
<div class="admonition info">
<p class="admonition-title">Importante</p>
<p>Para que el programa creado en MicroBlocks se guarde en la placa es necesario tener establecida la conexión entre el IDE y la placa.<br />
Cuando queremos transmitir datos entre la APP y la placa debemos establecer la conexión entre ambas y para ello no podemos tener establecida la conexión entre el IDE y la placa. No es posible tener dos conexiones establecidas con la misma placa.<br />
Si se da esta circunstancia cuando tratemos de establecer la conexión esta se perderá de manera inmediata.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/com_app_placa_perd.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Comunicación APP a placa perdida" src="../../img/guias/uB/com_app_placa_perd.png" /></a><br />
<em>Comunicación APP a placa perdida</em>  </p>
<p></center></p>
</div>
<p>Desde MicroBlocks creamos y llevamos a la placa el siguiente programa:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/com_bi_base.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Comunicación bidireccional básica" src="../../img/guias/uB/com_bi_base.png" /></a><br />
<em>Comunicación bidireccional básica</em><br />
<a href="../program/uB/comunicacion_bidireccional_base.ubp">Descargar programa</a></p>
<p></center></p>
<p>El programa realiza un desplazamiento de la cadena de texto recibida en la pantalla de la micro:STEAMakers y envia la cadena que se muestra al pulsar el botón A. El intercambio de mensajes se realiza desde la APP citada.</p>
<p>Con la APP abierta y la conexión realizada enviamos el mensaje que vemos en la captura.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/com_app_placa.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Comunicación APP a placa" src="../../img/guias/uB/com_app_placa.png" /></a><br />
<em>Comunicación APP a placa</em>  </p>
<p></center></p>
<p>Tras pulsar el botón de enviar el mensaje comienza a aparecer en la pantalla.</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/com_app_placa.gif" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Comunicación placa a APP" src="../../img/guias/uB/com_app_placa.gif" /></a><br />
<em>Comunicación placa a APP</em>  </p>
<p></center></p>
<p>Si ahora pulsamos el botón de la placa en la APP se recivbe e mensaje que esta envia:</p>
<p><center></p>
<p><a class="glightbox" href="../../img/guias/uB/com_placa_app.png" data-type="image" data-width="100%" data-height="auto" data-desc-position="bottom"><img alt="Comunicación placa a APP" src="../../img/guias/uB/com_placa_app.png" /></a><br />
<em>Comunicación placa a APP</em>  </p>
<p></center></p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2023 - 2035 Federico Coca
    </div>
  
  
</div>
      
        <div class="md-social">
  
    
    
    
    
    <a href="https://github.com/fgcoca" target="_blank" rel="noopener" title="Github de Federico Coca" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://www.instagram.com/cocafederico/?hl=es" target="_blank" rel="noopener" title="Instagram de Federico Coca" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg>
    </a>
  
    
    
    
    
    <a href="https://x.com/clubroboticagra" target="_blank" rel="noopener" title="X de Club Robótica Granada" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.4.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9L389.2 48zm-24.8 373.8h39.1L151.1 88h-42l255.3 333.8z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.tabs.sticky"], "search": "../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version": "Seleccionar versi\u00f3n"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.aecac24b.min.js"></script>
      
        <script src="../../plugins/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  <script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>